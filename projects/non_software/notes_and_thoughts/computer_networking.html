<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Computer Networking</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="icon" href="/images/favicon.ico">
		<link rel="stylesheet" href="/assets/css/main.css" />
		<link rel="stylesheet" href="/assets/css/fontawesome-all.min.css" />
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
								<div data-include="/components/header"></div>

							<!-- Content -->
								<section>
									<header class="main">
										<h1>Computer Networking</h1>
									</header>

									<span class="image main"><img src="/images/pic11.jpg" alt="" /></span>

									<hr class="major" />
                                    <h2>Table of Contents</h2>
										<ul>
                                            <li><a href="#overall-thoughts">Overall Thoughts</a></li>
											<li><a href="#notes">Notes</a></li>
                                            <ul>
                                                <li><a href="#1-computer-networks-and-the-internet">Chapter 1 — Computer Networks and the Internet</a></li>
                                                <ul>
                                                    <li><a href="#1.1-what-is-the-internet">1.1 — What is the Internet?</a></li>
                                                    <ul>
                                                        <li><a href="#1.1.1-a-nuts-and-bolts-description">1.1.1 A Nuts-And-Bolts Description</a></li>
                                                        <li><a href="#1.1.2-a-services-description">1.1.2 A Services Description</a></li>
                                                        <li><a href="#1.1.3-what-is-a-protocol">1.1.3 What Is a Protocol?</a></li>
                                                    </ul>
                                                </ul>
                                                <li><a href="#2-application-layer">Chapter 2 - Application Layer</a></li>
                                                <ul>
                                                    <li></li>
                                                </ul>
                                                <li><a href="#3-transport-layer">Chapter 3 — Transport Layer</a></li>
                                                <ul>
                                                    <li></li>
                                                </ul>
                                                <li><a href="#9-multimedia-networking">Chapter 9 — Multimedia Networking</a></li>
                                                <ul>
                                                    <li></li>
                                                </ul>
                                            </ul>
                                            <li><a href="#sources">Sources</a></li>
                                       </ul>

                                    <hr class="major" />
                                    <h2 id="overall-thoughts">Overall Thoughts</h2>
                                    <p>Note: I did not take notes for chapters 4, 5, 6, 7 or 8. If enough people want me to badly enough, I can be convinced, but otherwise this is very low on my to-do list.</p>

                                    <hr class="major" />
                                    <h2 id="notes">Notes</h2>

                                    <h3 id="1-computer-networks-and-the-internet">Chapter 1 — Computer Networks and the Internet</h3>
                                        <h4 id="1.1-what-is-the-internet">1.1 — What is the Internet?</h4>
                                            <ul>
                                                <li><img class="image" src="/images/computer_networking/1_1_internet.png" alt="The Internet" width="40%"/></li>
                                                <li id="1.1.1-a-nuts-and-bolts-description"><strong>1.1.1 A Nuts-And-Bolts Description</strong></li>
                                                    <ul>
                                                        <li>End systems/hosts connected by a network of communication links and packet switches</li>
                                                            <ul>
                                                                <li>Hardware and software components</li>
                                                            </ul>
                                                        <li>End systems/hosts access the Internet through lower-tier Internet Service Providers (ISPs), which are interconnected through national and international upper-tier ISPs</li>
                                                        <li>Protocols are run to control the sending and receiving of information</li>
                                                            <ul>
                                                                <li>TCP/IP</li>
                                                            </ul>
                                                        <li>Internet standards developed by the Internet Engineering Task Force (IETF), whose standard documents are requests for comments (RFCs)</li>
                                                    </ul>
                                                <li id="1.1.2-a-services-description"><strong>1.1.2 A Services Description</strong>
                                                    <ul>
                                                        <li>Infrastructure that provides services to distributed applications</li>
                                                            <ul>
                                                                <li>Distributed since they run on multiple end systems</li>
                                                            </ul>
                                                        <li>End systems and the Internet provide a socket interface for communication</li>
                                                    </ul>
                                                <li id="1.1.3-what-is-a-protocol"><strong>1.1.3 What Is a Protocol?</strong></li>
                                                    <ul>
                                                        <li>Defines the format and order of messages exchanged between two or more communicating entities, as well as the actions taken on the transmission and/or receipt of a message or other event</li>
                                                    </ul>
                                            </ul>
                                        <h4 id="1.2-the-network-edge">1.2 — The Network Edge</h4>
                                            <ul>
                                                <li>Internet of Things (IoT) — concept of loads of things (besides traditional computers) being connected to the Internet (watches, glasses, thermostats)</li>
                                                <li>Hosts</li>
                                                    <ul>
                                                        <li>Host application programs</li>
                                                        <li>Clients or servers</li>
                                                    </ul>
                                                <li id="1.2.1-access-networks"><strong>1.2.1 Access Networks</strong></li>
                                                    <ul>
                                                        <li>Digital Subscriber Line (DSL)</li>
                                                        <li><img class="image" src="/images/computer_networking/1_2_dsl.png" alt="DSL Internet access" width="40%"/></li>
                                                        <ul>
                                                            <li>Often from same local telephone company (telco) that provides local phone access</li>
                                                            <li>Exchange data with a digital subscriber line access multiplexer (DSLAM) located in the telco's local central office (CO)</li>
                                                            <li>DSL modem translates digital data to high-frequency tones</li>
                                                            <li>DSLAM translates back analogue signals from other home PCs to digital data, separates data and phone signals, and sends each into the respective networks</li>
                                                            <li>Residential telephone line carries data and traditional telephone signals simultaneously, encoded at different frequencies</li>
                                                                <ul>
                                                                    <li>Upstream and downstream data rates are different (asymmetric)</li>
                                                                </ul>
                                                        </ul>
                                                    <li>Cable</li>
                                                    <li><img class="image" src="/images/computer_networking/1_2_cable.png" alt="A hybrid fiber-coaxial access network" width="40%"/></li>
                                                        <ul>
                                                            <li>Uses cable television company's existing infrastructure</li>
                                                            <li>Uses fiber and coaxial cables, referred to as hybrid fiber coax (HFC)</li>
                                                            <li>Cable modems connect to home PCs (similar to DSL modems), convert digital signals to analogue, and divide the HFC network into typically asymmetric channels, defined by Data Over Cable Service Interface Specification (DOCSIS) to be 42.8 Mbps upstream and 30.7 Mbps downstream</li>
                                                            <li>Cable modem termination system (CMTS) converts analogue signal from cable modems back into digital</li>
                                                            <li>Shared broadcast medium majorly hinders downstream rate, and creates the need for a distributed multiple access protocol to coordinate transmissions and avoid collisions</li>
                                                        </ul>
                                                    <li>Fiber to the home (FTTH)</li>
                                                    <li><img class="image" src="/images/computer_networking/1_2_ftth.png" alt="FTTH Internet access" width="40%"/></li>
                                                        <ul>
                                                            <li>Active optical networks (AONs) direct signals only to the relevant customer, passive optical networks (PONs) do not</li>
                                                            <li>Also referred to as fiber optic service (FIOS)</li>
                                                            <li>Optical network terminators (ONTs) are present in each home and connect to a neighborhood splitter via a dedicated optical fiber</li>
                                                            <li>Optical line terminator (OLT) convert between optical and electrical signals</li>
                                                            <li>Gigabit per second potential</li>
                                                        </ul>
                                                    <li>Dial-Up</li>
                                                        <ul>
                                                            <li>Over traditional phone lines, based on same model as DSL, slow (56 kbps)</li>
                                                        </ul>
                                                    <li>Satellite</li>
                                                        <ul>
                                                            <li>> 1 Mbps</li>
                                                        </ul>
                                                        <li>Local Area Networks (LAN)</li>
                                                            <ul>
                                                                <li>Access in the enterprise and home typically work using Ethernet switches and WiFi base stations</li>
                                                                <ul>
                                                                    <li>Both Mbps to Gbps</li>
                                                                </ul>
                                                            </ul>
                                                        <li>Wide-area wireless access</li>
                                                            <ul>
                                                                <li>Third-generation (3G) wireless, provides packet-switched Internet access at > 1 Mbps</li>
                                                                <li>Fourth-generation (4G)</li>
                                                                <li>Long-Term Evolution (LTE) is similar to 3G, downstream > 10 Mbps</li>
                                                            </ul>
                                                    </ul>
                                                <li id="1.2.2-physical-media"><strong>1.2.2 Physical Media</strong></li>
                                                    <ul>
                                                        <li>Guided (waves along a solid medium) and unguided (waves propagate in the atmosphere and in outer space)</li>
                                                        <li>Twisted-pair copper wire</li>
                                                            <ul>
                                                                <li>Least expensive, most common guided transmission medium</li>
                                                                <li>Two insulated copper wires ~1 mm thick in a spiral pattern</li>
                                                                    <ul>
                                                                        <li>Reduces electrical interference from similar close by pairs</li>
                                                                    </ul>
                                                                <li>Bundled in a cable</li>
                                                                <li>Single communication link</li>
                                                                <li>Unshielded twisted pair (UTP) is common for LANs, 10 Mbps to 10 Gbps</li>
                                                            </ul>
                                                        <li>Coaxial cable</li>
                                                            <ul>
                                                                <li>Guided and can be a shared medium</li>
                                                                <li>Two concentric copper conductors</li>
                                                                <li>Insulation and shielding</li>
                                                                <li>Common in cable television systems</li>
                                                                <li>High data transmission rates</li>
                                                            </ul>
                                                        <li>Fiber Optics</li>
                                                            <ul>
                                                                <li>Thin, flexible, guided medium which conducts pulses of light</li>
                                                                <li>10 Gbps to 100 Gbps</li>
                                                                <li>Immune to electromagnetic interference</li>
                                                                <li>Low signal attenuation up to 100 km</li>
                                                                <li>Very hard to tap</li>
                                                                <li>High cost</li>
                                                            </ul>
                                                        <li>Terrestrial Radio Channels</li>
                                                            <ul>
                                                                <li>Carry signals in the electromagnetic spectrum, potentially for long distances</li>
                                                                <li>No physical wire, can penetrate walls, provide connectivity to a mobile user</li>
                                                                <li>Potential packet loss and decrease in signal strength over distance and around/through obstructing objects (shadow fading)</li>
                                                            </ul>
                                                        <li>Satellite Radio Channels</li>
                                                            <ul>
                                                                <li>Geostationary satellites</li>
                                                                    <ul>
                                                                        <li>Covers same area over Earth over time</li>
                                                                        <li>36,000 km above Earth's surface</li>
                                                                        <li>Signal propagation of 280 ms</li>
                                                                        <li>>100 Mbps</li>
                                                                    </ul>
                                                                <li>Low-earth orbiting (LEO) satellites</li>
                                                                    <ul>
                                                                        <li>Independent orbit</li>
                                                                        <li>Require many satellites to continuously cover an area</li>
                                                                    </ul>
                                                            </ul>
                                                        </ul>
                                                    </ul>
                                        <h4 id="1.3-the-network-core">1.3 — The Network Core</h4>
                                            <ul>
                                                <li id="1.3.1-packet-switching"><strong>1.3.1 Packet Switching</strong></li>
                                                <li><img class="image" src="/images/computer_networking/1_3_packet_switching.png" alt="Packet switching" width="40%"/></li>
                                                    <ul>
                                                        <li>Long messages are divided into packets</li>
                                                        <li>Packets travel through communication links and packet switches (routers and link-layer switches)</li>
                                                        <li>Store-and-forward transmission: packet switch must receive entire packet before beginning to transmit the first bit of the packet onto the outbound link</li>
                                                        <li>Packet switches have output buffers for each attached link, which store packets before transmission</li>
                                                            <ul>
                                                                <li>Resulting in queueing delays</li>
                                                                <li>Packet loss if the output buffer a packet needs to be placed into is full</li>
                                                            </ul>
                                                        <li>Forwarding tables in each packet switch map portions of destination addresses to outbound links, and the entries of forwarding tables are set by routing protocols</li>
                                                        <li>Advantages</li>
                                                            <ul>
                                                                <li>Sharing of transmission capacity</li>
                                                                    <ul>
                                                                        <li>Allows for faster service (consider file transfer with TDM and little user activity)</li>
                                                                    </ul>
                                                                <li>Simpler to implement</li>
                                                                <li>Less costly</li>
                                                                <li>Provides essentially the same performance as circuit switching and can support significantly more users (because user activity is probabilistic)</li>
                                                            </ul>
                                                        <li>Disadvantages</li>
                                                            <ul>
                                                                <li>Not great for real-time services due to variable end-to-end delays</li>
                                                            </ul>
                                                    </ul>
                                                <li>1.3.2 Circuit Switching</li>
                                                <li><img class="image" src="/images/computer_networking/1_3_circuit_switching.png" alt="Circuit switching" width="40%"/></li>
                                                <ul>
                                                    <li>Resources (buffers, link transmission rate) needed along a path are reserved for the duration of the communication session between end systems</li>
                                                        <li>Traditional telephone networks have this structure</li>
                                                        <ul>
                                                            <li>Circuit: the connection between the sender and receiver</li>
                                                        </ul>
                                                        <li>Multiplexing</li>
                                                        <ul>
                                                                <li>Frequency-division multiplexing (FDM)</li>
                                                                <li><img class="image" src="/images/computer_networking/1_3_fdm.png" alt="FDM" width="40%"/></li>
                                                                <ul>
                                                                        <li>Frequency band of a link is divided among the connections established across the link</li>
                                                                        <ul>
                                                                            <li>Bandwidth: width of the frequency band (4 KHz above for both bands)</li>
                                                                        </ul>
                                                                    <li>FM (frequency modulation) radio stations use FDM</li>
                                                                </ul>
                                                                <li>Time-division multiplexing (TDM)</li>
                                                                <li><img class="image" src="/images/computer_networking/1_3_tdm.png" alt="TDM" width="40%"/></li>
                                                                <ul>
                                                                    <li>Time is divided into frames of fixed duration, frames are divided into a fixed number of slots</li>
                                                                </ul>
                                                        </ul>
                                                        <li>Advantages</li>
                                                        <ul>
                                                            <li>Guarantees smooth service</li>
                                                        </ul>
                                                        <li>Disadvantages</li>
                                                        <ul>
                                                            <li>Dedicated circuits waste resources during silent periods</li>
                                                            <li>Difficult to establish end-to-end circuits and reserve end-to-end transmission</li>
                                                        </ul>
                                                </ul>
                                                <li>1.3.3 A Network of Networks</li>
                                                <li><img class="image" src="/images/computer_networking/1_3_interconnection_of_isps.png" alt="Interconnection of ISPs" width="40%"/></li>
                                                <ul>
                                                    <li>ISPs are interconnected in a tiered structure</li>
                                                    <li>Access ISPs (customers) pay the regional ISP (provider) it connects to</li>
                                                        <li>Regional ISPs (customers) pay the tier-1 ISP (provider) it connects to</li>
                                                        <ul>
                                                            <li>Regional ISP may be split into provincial ISPs and national ISPs</li>
                                                        </ul>
                                                        <li>Points of presence (PoPs)</li>
                                                        <ul>
                                                            <li>Exist on all tiers above access level</li>
                                                            <li>Are groups of one or more routers at the same location in the providers network where customer ISPs can connect into the provider ISP</li>
                                                        </ul>
                                                    <li>Multi-home: customer ISP connected to multiple provider ISPs</li>
                                                        <li>Peering: pairs of ISPs at the same level can directly connect their networks together</li>
                                                        <ul>
                                                            <li>All traffic between them should only be for direct connections between hosts connected to the ISPs</li>
                                                            <li>Allows them to avoid the cost of routing through provider ISPs</li>
                                                        </ul>
                                                        <li>Internet Exchange Points (IXPs)</li>
                                                        <ul>
                                                            <li>Third parties which create a meeting point for multiple ISPs to peer</li>
                                                        </ul>
                                                        <li>Content-provider networks</li>
                                                        <ul>
                                                            <li>Private networks which try to bypass the upper tiers of the Internet by peering with lower-tier ISPs (either directly or at IXPs)</li>
                                                            <li>Ultimately still have to be customers to tier-1 ISPs, but reduce their costs by exchanging less traffic with them through peering</li>
                                                        </ul>
                                                    <li>Around a dozen tier-1 ISPs</li>
                                                    <li>Hundreds of thousands of lower-tier ISPs</li>
                                                </ul>
                                                </ul>
                                        <h4 id="1.4-delay-loss-throughput-in-packet-switched-networks">1.4 — Delay, Loss, and Throughput in Packet-Switched Networks</h4>
                                            <ul>
                                                    <li>1.4.1 Overview of Delay in Packet-Switched Networks</li>
                                                    <ul>
                                                            <li>Total nodal delay</li>
                                                            <ul>
                                                                    <li>Nodal processing delay (microseconds)</li>
                                                                    <ul>
                                                                            <li>Examine packet header</li>
                                                                            <ul>
                                                                                <li>Check for bit errors </li>
                                                                            </ul>
                                                                        <li>Determine output link</li>
                                                                    </ul>
                                                                <li>Queueing delay (microseconds to milliseconds)</li>
                                                                <li>Transmission delay: transmit packets onto link (microseconds to milliseconds)</li>
                                                                <li>Propagation delay (milliseconds)</li>
                                                            </ul>
                                                    </ul>
                                                    <li>1.4.2 Queueing Delay and Packet Loss</li>
                                                    <ul>
                                                            <li>Varies from packet to packet, as a result of</li>
                                                            <ul>
                                                                    <li>Fluctuations in traffic intensity (\(La/R\))</li>
                                                                    <li><img class="image" src="/images/computer_networking/1_4_fluctuations_in_traffic_intensity.png" alt="Dependence of averafe queuing delay on traffic intensity" width="40%"/></li>
                                                                    <ul>
                                                                        <li>\(L\) = bit length of packets</li>
                                                                        <li>\(a\) = average rate packets arrive at a queue</li>
                                                                        <li>\(R\) = transmission rate</li>
                                                                    </ul>
                                                                <li>Burstiness of packet arrival</li>
                                                            </ul>
                                                            <li>Packet loss</li>
                                                            <ul>
                                                                <li>Full, finite capacity queues will have to drop packets upon new arrivals</li>
                                                            </ul>
                                                    </ul>
                                                    <li>1.4.3 End-to-End Delay</li>
                                                    <ul>
                                                            <li>Depends on physical medium</li>
                                                            <ul>
                                                                <li>End systems using shared mediums (such as WiFi) may purposefully delay its transmission as part of its protocol for sharing the medium with other end systems</li>
                                                            </ul>
                                                        <li>Traceroute</li>
                                                    </ul>
                                                    <li>1.4.4 Throughput in Computer Networks</li>
                                                    <ul>
                                                        <li>Instantaneous and average throughput</li>
                                                            <li>Transmission rate along a path is equal to that of the bottleneck link</li>
                                                            <ul>
                                                                <li>Fluid analogy</li>
                                                                <li>Typically the access network</li>
                                                            </ul>
                                                    </ul>
                                            </ul>
                                        <h4 id="1.5-protocol-layers-and-their-service-models">1.5 — Protocol Layers and Their Service Models</h4>
                                            <ul>
                                                    <li>1.5.1 Layered Architecture</li>
                                                    <ul>
                                                            <li>Each layer provides its service via</li>
                                                            <ul>
                                                                <li>Certain actions</li>
                                                                <li>Using the services of the layer directly below it</li>
                                                            </ul>
                                                            <li>Advantages to layering</li>
                                                            <ul>
                                                                <li>Easier to update system components</li>
                                                            </ul>
                                                            <li>Disadvantages</li>
                                                            <ul>
                                                                <li>Potential duplicate lower-layer functionality</li>
                                                                <li>Isolation of information</li>
                                                            </ul>
                                                            <li>Internet protocol stack</li>
                                                            <ul>
                                                                    <li>Application layer</li>
                                                                    <ul>
                                                                        <li>Distributed over multiple end systems</li>
                                                                        <li>Messages</li>
                                                                    </ul>
                                                                    <li>Transport layer</li>
                                                                    <ul>
                                                                        <li>Connection-oriented service to its applications</li>
                                                                        <li>Segments</li>
                                                                    </ul>
                                                                    <li>Network layer</li>
                                                                    <ul>
                                                                        <li>Host to host</li>
                                                                        <li>Datagrams</li>
                                                                    </ul>
                                                                    <li>Link layer</li>
                                                                    <ul>
                                                                        <li>Node to node</li>
                                                                        <li>Frames</li>
                                                                    </ul>
                                                                    <li>Physical layer</li>
                                                                    <ul>
                                                                        <li>Move individual bits within frames from node to node</li>
                                                                    </ul>
                                                            </ul>
                                                            <li>Open Systems Interconnection (OSI) protocol stack</li>
                                                            <ul>
                                                                <li>Presentation layer and session layer below application layer</li>
                                                                    <li>Presentation layer</li>
                                                                    <ul>
                                                                        <li>Deals with message interpretation</li>
                                                                        <li>Data compression, encryption, and description</li>
                                                                    </ul>
                                                                    <li>Session layer</li>
                                                                    <ul>
                                                                        <li>Delimiting and synchronizing data exchange</li>
                                                                        <li>Facilitate checkpointing and a recovery scheme</li>
                                                                    </ul>
                                                            </ul>
                                                    </ul>
                                                    <li>1.5.2 Encapsulation</li>
                                                    <ul>
                                                        <li>Packets from above layers become the payloads of packets from below layers, with a new packet header prepended</li>
                                                        <li>Fragmentation</li>
                                                        <li>Tunneling</li>
                                                    </ul>
                                            </ul>
                                        <h4 id="1.6-networks-under-attack">1.6 — Networks Under Attack</h4>
                                            <ul>
                                                <li>Malware: malicious software</li>
                                                <li>Botnet: group of similarly compromised devices</li>
                                                <li>Malware is often self-replicating: seeks entry into other hosts over the Internet from newly infected hosts</li>
                                                <li>Viruses: Malware requiring user interaction to infect the user's device</li>
                                                <li>Worm: Malware that can enter a device without explicit user interaction</li>
                                                    <li>Denial-of-service (DoS) attacks render a piece of infrastructure unusable by legitimate users</li>
                                                    <ul>
                                                        <li>Vulnerability attack to stop services or crash systems</li>
                                                        <li>Bandwidth flooding on the target's access link</li>
                                                        <li>Connection flooding to consume all threads/processes</li>
                                                        <li>Distributed DoS (DDoS) are DoS attacks from multiple sources</li>
                                                    </ul>
                                                    <li>Packet sniffing</li>
                                                    <ul>
                                                        <li>Wireshark</li>
                                                    </ul>
                                                <li>IP spoofing: injecting packets into the Internet with a false source address</li>
                                            </ul>
                                        <h4 id="1.7-history-of-computer-networking-and-the-internet">1.7 — History of Computer Networking and the Internet</h4>
                                            <ul>
                                                    <li>1.7.1 The Development of Packet Switching: 1961-1972</li>
                                                    <ul>
                                                        <li>Packet switching as an efficient and robust alternative to circuit switching</li>
                                                            <li>ARPAnet: the first packet-switched computer network</li>
                                                            <ul>
                                                                <li>By the end of the 1969 had 4 nodes</li>
                                                                <li>By the end of the 1969 had 15 nodes</li>
                                                            </ul>
                                                    </ul>
                                                    <li>1.7.2 Proprietary Networks and Internetworking: 1972-1980</li>
                                                    <ul>
                                                        <li>Network control protocol (NCP): first host-to-host protocol</li>
                                                        <li>New packet-switching networks developed: ALOHAnet's microwave network and DARPA's packet-satellite and packet-radio networks</li>
                                                        <li>ALOHA protocol, the first multiple-access protocol (for a radio frequency), was developed</li>
                                                        <li>Internetting: mission to network all created networks</li>
                                                        <li>TCP split into modern day TCP and IP</li>
                                                        <li>Ethernet protocol was built on the ALOHA protocol</li>
                                                        <li>By the end of the decade, there were approximately 200 hosts connected to the ARPAnet</li>
                                                    </ul>
                                                    <li>1.7.3 A Proliferation of Networks: 1980-1990</li>
                                                    <ul>
                                                        <li>Universities linked</li>
                                                        <li>1983 — transition from NCP to TCP/IP</li>
                                                        <li>DNS developed</li>
                                                        <li>French launched the Minitel project, which aimed to bring data networking into everyone's home</li>
                                                            <li>1986 — NSFNET (National Science Foundation) created to provide access to NSF-sponsored supercomputing centers</li>
                                                            <ul>
                                                                <li>By the end of the decade, served as a primary backbone linking regional networks</li>
                                                            </ul>
                                                        <li>By the end of the decade, there were approximately 100,000 hosts connected to the ARPAnet</li>
                                                    </ul>
                                                    <li>1.7.4 The Internet Explosion: The 1990s</li>
                                                    <ul>
                                                        <li>ARPAnet ceased to exist</li>
                                                        <li>1991 — NSFNET removed its restrictions its the commercial use</li>
                                                        <li>1995 — NSFNET was decommissioned. Internet backbone traffic was carried by commercial ISPs</li>
                                                        <li>Emergence of World Wide Web application, which was invented at CERN</li>
                                                        <li>E-mail</li>
                                                        <li>Instant messaging</li>
                                                        <li>Peer-to-peer file sharing of MP3s</li>
                                                        <li>Internet startups flooded the stock market, and many collapsed</li>
                                                    </ul>
                                                    <li>1.7.5 The New Millennium</li>
                                                    <ul>
                                                        <li>Aggressive deployment of broadband Internet access to homes</li>
                                                        <li>Ubiquity of high-speed (> 54 Mbps) public WiFi networks and medium-speed (tens of Mbps) Internet access via 4G cellular telephony networks</li>
                                                        <li>Online social networks</li>
                                                        <li>Private networks by online service providers</li>
                                                        <li>Cloud applications</li>
                                                    </ul>
                                            </ul>
                                    <h3 id="2-application-layer">Chapter 2 — Application Layer</h3>
                                            <h4 id="2.1-principles-of-network-applications">2.1 — Principles of Network Applications</h4>
                                            <ul>
                                                    <li>2.1.1 Network Application Architectures</li>
                                                    <ul>
                                                        <li>Application architecture dictates how the application is structured over various end systems</li>
                                                            <li>Client-server architecture</li>
                                                            <p>
                                                            <li><img class="image" src="/images/computer_networking/2_1_client_server_architecture.png" alt="Client-server architecture" width="40%"/></li>
                                                            </p>
                                                            <ul>
                                                                    <li>Server</li>
                                                                    <ul>
                                                                        <li>Always-on host</li>
                                                                        <li>Fixed, well-known IP address</li>
                                                                    </ul>
                                                                    <li>Client</li>
                                                                    <ul>
                                                                        <li>Issues requests</li>
                                                                    </ul>
                                                                <li>Clients communicate indirectly via a server</li>
                                                                <li>Data centers are used to create a powerful virtual server, to better deal with all of the client requests</li>
                                                            </ul>
                                                            <li>Peer-to-Peer (P2P)</li>
                                                            <p>
                                                            <li><img class="image" src="/images/computer_networking/2_1_peer_to_peer_architecture.png" alt="Peer-to-peer architecture" width="40%"/></li>
                                                            </p>
                                                            <ul>
                                                                <li>Minimal (or no) reliance on dedicated servers in data centers</li>
                                                                <li>Direct communication between pairs of intermittently connected hosts (peers)</li>
                                                                    <li>Self-scalability</li>
                                                                    <ul>
                                                                        <li>Peers generate workload by requesting files, but also add service capacity to the system by distributing files to other peers</li>
                                                                    </ul>
                                                                    <li>Disadvantages due to highly decentralized structure</li>
                                                                    <ul>
                                                                        <li>Security</li>
                                                                        <li>Performance</li>
                                                                        <li>Reliability</li>
                                                                    </ul>
                                                            </ul>
                                                            <li>Hybrids of client-server and P2P</li>
                                                            <ul>
                                                                <li>For example, many instant messaging applications use servers to track the IP addresses of users, but user-to-user messages are sent directly between hosts</li>
                                                            </ul>
                                                    </ul>
                                                    <li>2.1.2 Processes Communicating</li>
                                                    <ul>
                                                            <li>Process — program running within an end system by rules governed by the system's operating system</li>
                                                            <ul>
                                                                <li>Want process communication which works independently from the end systems' operating systems</li>
                                                            </ul>
                                                        <li>Processes exchange messages</li>
                                                            <li>Broadly, in each communication session between a pair of processes, there is always a client and server process</li>
                                                            <ul>
                                                                <li>Client process initiates communication, and downloads from a network</li>
                                                                <li>Server process waits to be contacted, and uploads to a network</li>
                                                            </ul>
                                                            <li>Socket: software interface which allows a process to send and receive messages from a network</li>
                                                            <ul>
                                                                <li>Application Programming Interface (API) between the application and the network</li>
                                                            </ul>
                                                            <li>Application developer's control on the transport-layer</li>
                                                            <ul>
                                                                <li>Choice of transport protocol</li>
                                                                    <li>Ability to configure transport-layer parameters</li>
                                                                    <ul>
                                                                        <li>Maximum buffer size</li>
                                                                        <li>Maximum segment size</li>
                                                                    </ul>
                                                            </ul>
                                                        <li>Host is identified by IP address</li>
                                                        <li>Process is identified by port number</li>
                                                    </ul>
                                                    <li>2.1.3 Transport Services Available to Applications</li>
                                                    <ul>
                                                            <li>Reliable data transfer</li>
                                                            <ul>
                                                                <li>Sending process can pass its data into the socket and know with complete confidence that the data will (eventually) arrive without errors (likely) at the receiving process</li>
                                                                <li>Not necessary for loss-tolerant applications</li>
                                                            </ul>
                                                            <li>Throughput</li>
                                                            <ul>
                                                                <li>Guarantees are great for bandwidth-sensitive applications</li>
                                                                <li>Not necessary for elastic applications</li>
                                                            </ul>
                                                            <li>Timing</li>
                                                            <ul>
                                                                <li>Guarantees are great for interactive real-time applications</li>
                                                                <li>Not necessary for non-real-time applications</li>
                                                            </ul>
                                                            <li>Security</li>
                                                            <ul>
                                                                <li>Confidentiality</li>
                                                                <li>Data integrity</li>
                                                                <li>End-point authentication</li>
                                                            </ul>
                                                    </ul>
                                                    <li>2.1.4 Transport Services Provided by the Internet</li>
                                                    <ul>
                                                            <li>TCP</li>
                                                            <ul>
                                                                    <li>Connection-oriented service</li>
                                                                    <ul>
                                                                        <li>Client and server exchange transport-layer control information with each other before the application-level messages begin to flow (handshaking)</li>
                                                                        <li>Full-duplex TCP connection forms between the sockets of the two processes</li>
                                                                    </ul>
                                                                <li>Reliable data transfer service</li>
                                                                <li>Congestion-control mechanism</li>
                                                            </ul>
                                                            <li>UDP</li>
                                                            <ul>
                                                                <li>Connectionless service</li>
                                                                <li>Unreliable data transfer service</li>
                                                                <li>No congestion-control mechanism</li>
                                                            </ul>
                                                            <li>Security</li>
                                                            <ul>
                                                                <li>Provided by neither TCP or UDP</li>
                                                                    <li>Secure Sockets Layer (SSL) enhancement for TCP providing confidentiality, data integrity, end-point authentication</li>
                                                                    <ul>
                                                                            <li>Implemented in the application layer</li>
                                                                            <p>
                                                                            <li><img class="image" src="/images/computer_networking/2_1_applications_and_protocols.png" alt="Popular Internet applications, their application-layer protocols, and their underlying transport protocols" width="40%"/></li>
                                                                            </p>
                                                                            <ul>
                                                                                    <li>2.1.5 Application-Layer Protocols</li>
                                                                                    <ul>
                                                                                            <li>Define</li>
                                                                                            <ul>
                                                                                                <li>The types of messages exchanged between application processes</li>
                                                                                                <li>The syntax of various message types (fields and delineation between fields)</li>
                                                                                                <li>Semantics of the fields</li>
                                                                                                <li>Rules for determining when and how processes send and respond to messages</li>
                                                                                            </ul>
                                                                                    </ul>
                                                                                    <li>2.1.6 Network Applications Covered in This Book</li>
                                                                                    <ul>
                                                                                        <li>The Web</li>
                                                                                        <li>Electronic mail</li>
                                                                                        <li>Directory services</li>
                                                                                        <li>Video streaming</li>
                                                                                        <li>P2P applications</li>
                                                                                    </ul>
                                                                            </ul>
                                                                    </ul>
                                                            </ul>
                                                    </ul>
                                            </ul>
                                            <h4 id="2.2-the-web-and-hypertext-transfer-protocol-http">2.2 — The Web and HyperText Transfer Protocol (HTTP)</h4>
                                            <ul>
                                                    <li>2.2.1 Overview of HTTP</li>
                                                    <li><img class="image" src="/images/computer_networking/2_2_overview_of_http.png" alt="Overview of HTTP" width="40%"/></li>
                                                    <ul>
                                                        <li>Web's application-layer protocol</li>
                                                        <li>Implemented in client and server programs</li>
                                                            <li>Web page</li>
                                                            <ul>
                                                                <li>Consists of objects (files)</li>
                                                                <li>Base HTML file with referenced objects</li>
                                                                <li>Each object is addressable by a Universal Resource Locator (URL)</li>
                                                            </ul>
                                                        <li>Uses TCP</li>
                                                        <li>Client-server application architecture</li>
                                                            <li>Stateless</li>
                                                            <ul>
                                                                <li>Maintains no information about the clients</li>
                                                            </ul>
                                                        <li>Persistent connection by default</li>
                                                    </ul>
                                                    <li>2.2.2 Non-Persistent and Persistent Connections</li>
                                                    <ul>
                                                        <li>Non-Persistent: each request/response pair is sent over a separate TCP connection</li>
                                                        <li>Persistent: each request/response pair is sent over the same TCP connection</li>
                                                            <li>Round-trip time (RTT) — time for a small packet to travel from client to server and then back to the client</li>
                                                            <p>
                                                            <li><img class="image" src="/images/computer_networking/2_2_rtt.png" alt="RTT" width="40%"/></li>
                                                            </p>
                                                            <ul>
                                                                    <li>Persistent connections avoid the extraneous</li>
                                                                    <ul>
                                                                        <li>Two RTTs per TCP handshake and object request</li>
                                                                        <li>Allocation of TCP buffers and variables</li>
                                                                        <li>Delay when not using pipelining (HTTP/2)</li>
                                                                    </ul>
                                                            </ul>
                                                            <li>2.2.3 HTTP Message Format</li>
                                                            <ul>
                                                                <li>ASCII</li>
                                                                <li>Request</li>
                                                                    <li><li><img class="image" src="/images/computer_networking/2_2_http_request_message.png" alt="General format of an HTTP request message" width="40%"/></li>
                                                                    <ul>
                                                                            <li>Methods</li>
                                                                            <ul>
                                                                                <li>GET</li>
                                                                                <li>POST</li>
                                                                                <li>HEAD</li>
                                                                                <li>PUT</li>
                                                                                <li>DELETE</li>
                                                                            </ul>
                                                                            <li>Browser generates header lines as a function of</li>
                                                                            <ul>
                                                                                <li>The browser type and version</li>
                                                                                <li>User configuration of the browser</li>
                                                                                <li>Whether the browser currently has a cached, but possibly out-of-date version of the object</li>
                                                                            </ul>
                                                                    </ul>
                                                                    <li>Response</li>
                                                                    <p>
                                                                    <li><img class="image" src="/images/computer_networking/2_2_http_response_message.png" alt="General format of an HTTP response message" width="40%"/></li>
                                                                    </p>
                                                                    <ul>
                                                                            <li>Web servers generate headers in a similar way to browsers</li>
                                                                            <ul>
                                                                                <li>Different products, versions, configurations</li>
                                                                            </ul>
                                                                    </ul>
                                                            </ul>
                                                            <li>2.2.4 User-Server Interaction: Cookies</li>
                                                            <ul>
                                                                    <li>An HTTP server is stateless</li>
                                                                    <ul>
                                                                        <li>Simplifies server design</li>
                                                                        <li>However, often desirable to identify users</li>
                                                                    </ul>
                                                                    <li>Cookies</li>
                                                                    <li><img class="image" src="/images/computer_networking/2_2_cookies.png" alt="Keeping user state with cookies" width="40%"/></li>
                                                            </ul>
                                                            <li>2.2.5 Web Caching</li>
                                                            <li><img class="image" src="/images/computer_networking/2_2_web_caching.png" alt="Clients requesting objects through a Web cache" width="40%"/></li>
                                                            <ul>
                                                                <li>Functions as both a server and a client</li>
                                                                    <li>Typically purchased and installed by an ISP</li>
                                                                    <ul>
                                                                        <li>Relatively cheap — public-domain software that runs on inexpensive PCs</li>
                                                                    </ul>
                                                                    <li>Can substantially reduce the</li>
                                                                    <ul>
                                                                        <li>Response time for a client request</li>
                                                                        <li>Traffic on an institution's access link to the Internet</li>
                                                                        <li>Web traffic in the Internet as a whole</li>
                                                                    </ul>
                                                                <li>Want to maximize cache hit rates</li>
                                                                <li>Content Distribution Networks (CDNs) install many distributed caches throughout the Internet, localizing much of the traffic</li>
                                                                    <li>A cache can verify that its objects are up to date using conditional GET messages</li>
                                                                    <ul>
                                                                        <li>GET method</li>
                                                                        <li>If-Modified-Since header</li>
                                                                    </ul>
                                                            </ul>
                                                    </ul>
                                            </ul>
                                            <h4 id="2.3-electronic-mail-in-the-internet">2.3 — Electronic Mail in the Internet</h4>
                                            <li><img class="image" src="/images/computer_networking/2_3_email.png" alt="Alice sends a message to Bob" width="40%"/></li>
                                            </p>
                                            <ul>
                                                    <li>User agent — allow users to</li>
                                                    <ul>
                                                        <li>Read</li>
                                                        <li>Reply to</li>
                                                        <li>Forward</li>
                                                        <li>Save</li>
                                                        <li>Compose messages</li>
                                                    </ul>
                                                    <li>Mail server</li>
                                                    <ul>
                                                            <li>Each recipient has a mailbox in a mail server, which</li>
                                                            <ul>
                                                                <li>Manages and maintains the messages sent to the recipient</li>
                                                            </ul>
                                                        <li>Authenticates recipients</li>
                                                            <li>Deals with failure</li>
                                                            <ul>
                                                                <li>Holds messages in a message queue and attempts (re)transmission until success</li>
                                                            </ul>
                                                    </ul>
                                                    <li>2.3.1 SMTP</li>
                                                    <ul>
                                                        <li>Transfer messages from senders' mail servers to the recipients' mail servers</li>
                                                        <li>Everything encoded in 7-bit ASCII (old protocol, designed before people emailed large attachments)</li>
                                                            <li>Common commands</li>
                                                            <ul>
                                                                <li>HELO</li>
                                                                <li>MAIL FROM</li>
                                                                <li>RCPT TO</li>
                                                                <li>DATA</li>
                                                                <li>QUIT</li>
                                                            </ul>
                                                        <li>Each command followed by CRLF</li>
                                                        <li>Terminate DATA with CRLF.CRLF</li>
                                                    </ul>
                                                    <li>2.3.2 Comparison with HTTP</li>
                                                    <ul>
                                                            <li>Pull vs push protocol</li>
                                                            <ul>
                                                                <li>HTTP is mainly a pull protocol (pulling uploaded information to a server)</li>
                                                                <li>SMTP is primarily a push protocol</li>
                                                            </ul>
                                                            <li>Encoding</li>
                                                            <ul>
                                                                <li>SMTP requires each message to be encoded in 7-bit ASCII format, including non 7-bit ASCII (which is encoded and decoded appropriately)</li>
                                                                <li>HTTP data does not impose this restriction</li>
                                                            </ul>
                                                            <li>Handling other media types</li>
                                                            <ul>
                                                                <li>HTTP encapsulates each object in its own HTTP response message</li>
                                                                <li>SMTP places all of the message's objects into one message</li>
                                                            </ul>
                                                    </ul>
                                                    <li>2.3.3 Mail Message Formats</li>
                                                    <ul>
                                                            <li>Message header</li>
                                                            <ul>
                                                                <li>From:</li>
                                                                <li>To:</li>
                                                                <li>Subject:</li>
                                                            </ul>
                                                        <li>Blank line after message header, then body</li>
                                                    </ul>
                                                    <li>2.3.4 Mail Access Protocols</li>
                                                    <ul>
                                                        <li>Could have recipient's local PC run a mail server, to create more direct communication, but recipient's PC would have to be always on and connected to the Internet</li>
                                                        <li>Easier to have the recipient's local PC run a user agent program which pulls from the appropriate mailbox in the appropriate mail server (via a mail access protocol)</li>
                                                            <li>Post Office Protocol — Version 3 (POP3)</li>
                                                            <ul>
                                                                <li>Simplistic — does not carry state information across POP3 sessions</li>
                                                                <li>Does not provide any means for a user to maintain a folder hierarchy on a remote server that can be accessed from any computer</li>
                                                            </ul>
                                                            <li>Internet Mail Access Protocol (IMAP)</li>
                                                            <ul>
                                                                <li>Each message associated with a folder</li>
                                                                <li>Maintains user state information across IMAP sessions</li>
                                                            </ul>
                                                        <li>HTTP</li>
                                                    </ul>
                                            </ul>
                                            <h4 id="2.4-dns-the-internets-directory-service">2.4 — DNS — The Internet's Directory Service</h4>
                                            <ul>
                                                    <li>2.4.1 Services Provided by DNS</li>
                                                    <ul>
                                                            <li>Identify a host via hostname and IP address</li>
                                                            <ul>
                                                                <li>Hostnames preferred by people, fixed-length IP addresses preferred by routers</li>
                                                            </ul>
                                                            <li>Domain name system (DNS) translates memorable hostnames to IP addresses</li>
                                                            <ul>
                                                                    <li>Distributed database implemented in a hierarchy of DNS servers</li>
                                                                    <ul>
                                                                        <li>Often UNIX machines running Berkeley Internet Name Domain (BIND) software</li>
                                                                    </ul>
                                                            </ul>
                                                        <li>Application-layer protocol that allows hosts to query the distributed database</li>
                                                        <li>Commonly employed by other application-layer protocols (HTTP, SMTP) to translate user-supplied hostnames to IP addresses</li>
                                                        <li>Host aliasing — hosts with complicated hostnames can have alias names</li>
                                                        <li>Mail server hostname aliasing</li>
                                                            <li>Load distribution</li>
                                                            <ul>
                                                                <li>Servers can be replicated over multiple end systems with distinct IP addresses</li>
                                                                <li>DNS can associate a set of IP addresses with one canonical hostname</li>
                                                                    <li>The order of the sequence of IP addresses in the set is rotated within each reply</li>
                                                                    <ul>
                                                                        <li>Load balances since the first IP address in the reply is commonly used</li>
                                                                    </ul>
                                                            </ul>
                                                    </ul>
                                                    <li>2.4.2 Overview of How DNS Works</li>
                                                    <li><img class="image" src="/images/computer_networking/2_4_dns.png" alt="Interaction of the various DNS servers" width="40%"/></li>
                                                    <ul>
                                                            <li>Distributed to avoid</li>
                                                            <ul>
                                                                <li>A single point of failure</li>
                                                                <li>High, growing traffic volume</li>
                                                                <li>Having a large distance between querying clients</li>
                                                                <li>Constant maintenance to account for constant new hosts</li>
                                                            </ul>
                                                            <li>Classes of DNS servers</li>
                                                            <ul>
                                                                    <li>Root DNS servers</li>
                                                                    <ul>
                                                                        <li>Provide IP addresses of top-level domain (TLD) servers</li>
                                                                        <li>Over 400 scattered globally</li>
                                                                    </ul>
                                                                    <li>TLD servers</li>
                                                                    <ul>
                                                                        <li>com, org, net, uk, fr</li>
                                                                        <li>Provide IP addresses for authoritative DNS servers</li>
                                                                    </ul>
                                                                    <li>Authoritative DNS servers</li>
                                                                    <ul>
                                                                        <li>Houses an organization's publicly accessible DNS records that map the names of hosts within the organization to IP addresses</li>
                                                                    </ul>
                                                            </ul>
                                                            <li>Local DNS (LDNS) server</li>
                                                            <ul>
                                                                <li>Provided by ISPs to allow connected hosts to query the DNS database</li>
                                                            </ul>
                                                            <li>In general, TLD servers do not always know the IP addresses of authoritative DNS servers for the queried hostname</li>
                                                            <ul>
                                                                <li>May only know of an intermediate DNS server (often have hostname dns.organization), which knows the authoritative DNS server for the hostname</li>
                                                            </ul>
                                                        <li>Recursive and iterative queries</li>
                                                        <li>DNS servers cache responses to queries for some time (often set to two days)</li>
                                                    </ul>
                                                    <li>2.4.3 DNS Records and Messages</li>
                                                    <ul>
                                                            <li>DNS servers store resource records (RRs)</li>
                                                            <ul>
                                                                <li>Four-tuple (Name, Value, Type, time to live (TTL))</li>
                                                                    <li>The meaning of Name and Value depend on Type</li>
                                                                    <ul>
                                                                            <li>Type=A</li>
                                                                            <ul>
                                                                                <li>Name is a hostname</li>
                                                                                <li>Value is the IP address of the hostname</li>
                                                                                <li>(relay1.bar.foo.com, 145.37.93.126, A, TTL)</li>
                                                                            </ul>
                                                                            <li>Type=NS</li>
                                                                            <ul>
                                                                                <li>Name is a domain</li>
                                                                                <li>Value is the hostname of an authoritative DNS server that knows how to obtain the IP addresses for hosts in the domain</li>
                                                                                <li>(foo.com, dns.foo.com, NS, TTL)</li>
                                                                            </ul>
                                                                            <li>Type=CNAME</li>
                                                                            <ul>
                                                                                <li>Name is an alias hostname</li>
                                                                                <li>Value is a canonical hostname for the alias hostname</li>
                                                                                <li>(foo.com, relay1.bar.foo.com, CNAME, TTL)</li>
                                                                            </ul>
                                                                            <li>Type=MX</li>
                                                                            <ul>
                                                                                <li>Name is an alias hostname</li>
                                                                                <li>Value is a canonical name of a mail server for the alias hostname</li>
                                                                                <li>(foo.com, mail.bar.foo.com, MX, TTL)</li>
                                                                                <li>MX record allows a company's mail server and Web server to have identical (aliased) hostnames</li>
                                                                            </ul>
                                                                    </ul>
                                                            </ul>
                                                            <li><li><img class="image" src="/images/computer_networking/2_4_dns_records.png" alt="DNS record format" width="40%"/></li>
                                                        <li>nslookup program to send DNS query messages</li>
                                                            <li>Insert records into the DNS database via a registrar</li>
                                                            <ul>
                                                                <li>Commercial entity that verifies the uniqueness of a domain name and enters it into the DNS database for a small fee</li>
                                                            </ul>
                                                        <li>Need to provide names and IP addresses of your primary and secondary authoritative DNS servers</li>
                                                            <li>DNS vulnerabilities</li>
                                                            <ul>
                                                                    <li>DDoS to TLD servers</li>
                                                                    <ul>
                                                                        <li>Partial damage control from caching at LDNS servers</li>
                                                                    </ul>
                                                                    <li>Man-in-the-middle</li>
                                                                    <ul>
                                                                        <li>Intercept queries from hosts and return bogus replies</li>
                                                                    </ul>
                                                                    <li>DNS poisoning attack</li>
                                                                    <ul>
                                                                        <li>Attacker sends bogus replies to a LDNS server, tricking the server into accepting bogus records into its cache</li>
                                                                    </ul>
                                                            </ul>
                                                    </ul>
                                            </ul>
                                            <h4 id="2.5-peer-to-peer-file-distribution">2.5 — Peer-to-Peer File Distribution</h4>
                                            <ul>
                                                    <li><li><img class="image" src="/images/computer_networking/2_5_p2p_vs_client_server_distribution_time.png" alt="Distribution time for P2P and client-server architectures" width="40%"/></li>
                                                    <li>BitTorrent</li>
                                                    <ul>
                                                        <li>Torrent: collection of all peers participating in the distribution of a particular file</li>
                                                        <li>Peers may selfishly or altruistically leave or stay in the torrent after acquiring the entire file</li>
                                                            <li>Tracker: infrastructure node</li>
                                                            <ul>
                                                                <li>When a peer joins a torrent, it registers itself with the tracker</li>
                                                                <li>The tracker randomly selects a subset of the peers in the torrent and gives their IPs to the new peer</li>
                                                                <li>Peers periodically inform the tracker that they are still in the torrent</li>
                                                            </ul>
                                                        <li>Attempt to form TCP connections with each peer, to form a set of neighboring peers</li>
                                                        <li>Periodically, ask neighboring peers which chunks they have</li>
                                                        <li>Rarest first: request chunks that are the rarest among her neighbors</li>
                                                            <li>Give priority to neighbors that are supplying data at the highest rate (tit-for-tat incentive mechanism)</li>
                                                            <ul>
                                                                    <li>Top four highest supply rate neighboring peers are sent chunks back (unchoked)</li>
                                                                    <ul>
                                                                        <li>Overtime, peers capable of uploading at compatible rates tend to be in each other's neighborhoods</li>
                                                                    </ul>
                                                            </ul>
                                                        <li>Every 30 seconds, one additional, randomly selected neighbor is also sent chunks (optimistically unchoked)</li>
                                                        <li>All other neighboring peers not in these five are choked</li>
                                                    </ul>
                                                    <li>Distributed Hash Tables (DHT)</li>
                                                    <ul>
                                                        <li>Database entries distributed over peers in a P2P system</li>
                                                        <li>Partition keyspace</li>
                                                            <li>Ring structure</li>
                                                            <ul>
                                                                <li>Peers know some entries, the IP addresses of their two neighboring peers, and one distant peer</li>
                                                                <li>If peer is queried and doesn't have the corresponding value, asks neighboring/distant peer (whichever is closest to key with respect to keyspace partition)</li>
                                                            </ul>
                                                        <li>Trust neighbors to give true values</li>
                                                        <li>More secure since no single point of failure</li>
                                                    </ul>
                                            </ul>
                                            <h4 id="2.6-video-streaming-and-content-delivery-networks">2.6 — Video Streaming and Content Delivery Networks</h4>
                                            <ul>
                                                    <li>2.6.1 Internet Video</li>
                                                    <ul>
                                                        <li>Prerecorded video placed on servers</li>
                                                        <li>Users send requests to servers to view videos on demand</li>
                                                            <li>Video</li>
                                                            <ul>
                                                                    <li>Sequence of images being displayed at a constant rate (24-30 images/second)</li>
                                                                    <ul>
                                                                        <li>Uncompressed image: array of pixels encoded into a number of bits to represent luminance and color</li>
                                                                    </ul>
                                                                <li>High bit rate</li>
                                                                    <li>Compressible</li>
                                                                    <ul>
                                                                        <li>To different rates</li>
                                                                    </ul>
                                                                <li>For continuous playout, the network must provide an average throughput to the streaming application that is at least as large as the bit rate of the compressed video</li>
                                                            </ul>
                                                    </ul>
                                                    <li>2.6.2 HTTP Streaming and Dynamic Adaptive Streaming over HTTP (DASH)</li>
                                                    <ul>
                                                        <li>Video encoded into several different versions, each with a different bit rate and, correspondingly, a different quality level</li>
                                                            <li>Allows clients to select different quality chunks based on perceived bandwidth</li>
                                                            <ul>
                                                                <li>Exponentially weighted moving average accounting for variance</li>
                                                            </ul>
                                                            <li>Manifest file: provides a URL for each video version along with its bit rate</li>
                                                            <ul>
                                                                <li>Client selects one chunk at a time by specifying a URL and a byte range in an HTTP GET request message</li>
                                                            </ul>
                                                    </ul>
                                                    <li>2.6.3 Content Distribution Networks (CDNs)</li>
                                                    <ul>
                                                        <li>Manage servers in multiple geographically distributed locations</li>
                                                        <li>Stores copies of the videos in its servers</li>
                                                            <li>Attempts to direct each user request to a CDN location that will provide the best user experience</li>
                                                            <li><img class="image" src="/images/computer_networking/2_6_cdn.png" alt="DNS redirects a user's request to a CDN server" width="40%"/></li>
                                                            <ul>
                                                                <li>(Note (6) should be a double-headed arrow)</li>
                                                            </ul>
                                                        <li>Intercept requests for videos using DNS</li>
                                                            <li>Determine a suitable CDN server cluster for that client</li>
                                                            <ul>
                                                                    <li>Geographically closest</li>
                                                                    <ul>
                                                                        <li>Tends to work well for majority of clients</li>
                                                                        <li>Can be bad for some, since geographically closest may not minimize number of hops of the network path</li>
                                                                        <li>Some end-users are configured to use remotely located LDNSs, in which case this is a bad heuristic for distance</li>
                                                                        <li>Ignores variance in delay and available bandwidth over time of Internet paths</li>
                                                                    </ul>
                                                                    <li>Based on current traffic conditions</li>
                                                                    <ul>
                                                                        <li>Real-time measurements of delay and loss between clusters and clients</li>
                                                                            <li>Make all clusters within a CDN periodically send probes to all LDNSs globally</li>
                                                                            <ul>
                                                                                <li>Unfortunately, many LDNSs are configured to ignore such probes </li>
                                                                            </ul>
                                                                    </ul>
                                                            </ul>
                                                        <li>Redirect the client's request to a server in that cluster</li>
                                                    </ul>
                                                <li>Can be private (Google's CDN) or third-party (Akamai)</li>
                                                    <li>Placement philosophies</li>
                                                    <ul>
                                                            <li>Enter deep: deploy server clusters in access ISPs, globally</li>
                                                            <ul>
                                                                <li>Reduce user-perceived delay</li>
                                                                <li>Highly distributed, difficult to maintain and manage the clusters</li>
                                                            </ul>
                                                            <li>Bring home: build large clusters at a smaller number of sites (typically IXPs)</li>
                                                            <ul>
                                                                <li>Greater user-perceived delay</li>
                                                                <li>Lower maintenance and management overhead</li>
                                                            </ul>
                                                    </ul>
                                                    <li>CDNs may not place copies of every video in every cluster</li>
                                                    <ul>
                                                        <li>Resolved by clusters retrieving the videos from other units and storing a local copy while streaming the video</li>
                                                        <li>Remove videos that are not frequently requested</li>
                                                    </ul>
                                            </ul>
                                                <li>2.6.4 Case Studies: Netflix, YouTube, and KanKan</li>
                                                <ul>
                                                        <li>Netflix</li>
                                                        <ul>
                                                            <li>Combines Amazon cloud and its own private CDN infrastructure</li>
                                                                <li>Amazon cloud</li>
                                                                <ul>
                                                                    <li>Content ingestion: studio master versions of movies are uploaded to hosts in the Amazon cloud</li>
                                                                    <li>Content processing: the machines in the cloud create many different formats for each movie (for all client video players), each at multiple bit rates, allowing for DASH</li>
                                                                        <li>Uploading versions to its CDN</li>
                                                                        <li><img class="image" src="/images/computer_networking/2_6_netflix.png" alt="Netflix video streaming platform" width="40%"/></li>
                                                                </ul>
                                                                <li>Initially employed third-party CDN companies to distribute video content, but now has its own private CDN</li>
                                                                <ul>
                                                                        <li>Server racks in both IXPs and residential ISPs, combining bring home and enter deep philosophies</li>
                                                                        <ul>
                                                                            <li>Each server rack has several 10 Gbps Ethernet ports and over 100 terabytes of storage</li>
                                                                        </ul>
                                                                    <li>Does not use pull-caching — instead uses push caching — caching videos to its CDN servers during off-peak hours</li>
                                                                </ul>
                                                        </ul>
                                                        <li>YouTube</li>
                                                        <ul>
                                                            <li>Private CDN to distribute videos</li>
                                                            <li>Server clusters in many hundreds of different IXP and ISP locations</li>
                                                            <li>Uses pull caching</li>
                                                            <li>Does not use adaptive streaming — instead requires users to manually select a version</li>
                                                            <li>Limits prefetching of video to reduce resource waste via repositioning and early termination</li>
                                                            <li>Processing of uploaded content occurs within Google data centers</li>
                                                        </ul>
                                                        <li>Kankan</li>
                                                        <ul>
                                                            <li>P2P, along with client-server delivery</li>
                                                            <li>Similar to BitTorrent file downloading</li>
                                                            <li>Pushes video content to hundreds of servers in China</li>
                                                                <li>Recently migrated to a hybrid CDN-P2P streaming system</li>
                                                                <ul>
                                                                    <li>Client requests beginning of content from CDN servers, and in parallel requests content from peers</li>
                                                                    <li>When total P2P traffic is sufficient for video playback, the client ceases streaming from the CDN, only using peers</li>
                                                                    <li>If P2P streaming traffic becomes insufficient, the client restarts CDN connections and returns to the mode of hybrid CDN-P2P streaming</li>
                                                                </ul>
                                                        </ul>
                                                </ul>
                                                <p>
                                                    <h4 id="2.7 — Socket Programming">2.7 — Socket Programming</h4>
                                                <ul>
                                                    <li>Send raw byte representation of data </li>
                                                </ul>
                                                <ul>
                                                        <li>2.7.1 Socket Programming with UDP</li>
                                                        <li><img class="image" src="/images/computer_networking/2_7_socket_programming_udp.png" alt="The client-server application using UDP" width="40%"/></li>
                                                        <ul>
                                                            <li>Specify (server IP, server port) when sending</li>
                                                        </ul>
                                                        <li>2.7.2 Socket Programming with TCP</li>
                                                        <li><img class="image" src="/images/computer_networking/2_7_socket_programming_tcp_1.png" alt="The TCPServer process has two sockets" width="40%"/></li>
                                                        <li><img class="image" src="/images/computer_networking/2_7_socket_programming_tcp_2.png" alt="The client-server application using TCP" width="40%"/></li>
                                                </ul>
                                                <p>
                                                    <h3 id="3-transport-layer">Chapter 3 — Transport Layer</h3>
                                                <p>
                                                    <h4 id="3.1-introduction-and-transport-layer-services">3.1 — Introduction and Transport-Layer Services</h4>
                                                <ul>
                                                        <li>3.1.1 Relationship Between Transport and Network Layers</li>
                                                        <ul>
                                                            <li>Transport-layer protocol provides logical communication between processes running on different hosts</li>
                                                                <li>Network-layer protocol provides logical communication between hosts</li>
                                                                <ul>
                                                                    <li>Logical communication: appearance of direct connection</li>
                                                                </ul>
                                                        </ul>
                                                        <li>3.1.2 Overview of the Transport Layer in the Internet</li>
                                                        <ul>
                                                            <li>Internet provides User Datagram Protocol (UDP) and Transmission Control Protocol (TCP)</li>
                                                            <li>Transport layer segments</li>
                                                            <li>Internet's network-layer protocol (IP) is a best-effort (unreliable) delivery service</li>
                                                        </ul>
                                                </ul>
                                                <p>
                                                    <h4 id="3.2-multiplexing-and-demultiplexing">3.2 — Multiplexing and Demultiplexing</h4>
                                                <ul>
                                                    <li>Demultiplexing: delivering data in a transport-layer segment to the correct socket</li>
                                                    <li>Multiplexing: gathering data chunks at the source host from different sockets, encapsulating each data chunk with header information (for later demultiplexing), creating segments, and passing segments to the network layer</li>
                                                        <li>Uses source and destination port numbers</li>
                                                        <ul>
                                                            <li>16-bit number ranging from 0 to 65535</li>
                                                            <li>0 to 1023 are well-known and reserved for use by well-known application protocols</li>
                                                        </ul>
                                                    <li>UDP sockets are fully identified by the two-tuple (destination IP address, destination port number)</li>
                                                        <li>TCP sockets are fully identified by a four-tuple (source IP address, source port number, destination IP address, destination port number)</li>
                                                        <ul>
                                                            <li>Need this additional information due to the protocol being connection-oriented </li>
                                                        </ul>
                                                        <li>Port scanning: determining which applications are listening on which ports</li>
                                                        <ul>
                                                            <li>nmap</li>
                                                        </ul>
                                                    <li>Not always a one-to-one correspondence between connection sockets and processes — today's high-performing Web servers often use one process, and create a new thread with a new connection socket for each new client connection</li>
                                                </ul>
                                                <p>
                                                    <h4 id="3.3-connectionless-transport-udp">3.3 — Connectionless Transport: UDP</h4>
                                                <ul>
                                                        <li>Advantages for applications using UDP</li>
                                                        <ul>
                                                            <li>Finer application-level control over what data is sent, and when</li>
                                                                <li>No connection establishment</li>
                                                                <ul>
                                                                    <li>No handshaking between sending and receiving transport-layer entities before sending a segment</li>
                                                                </ul>
                                                            <li>No connection state</li>
                                                            <li>Small packet header overhead</li>
                                                        </ul>
                                                </ul>
                                                <p>
                                                <li><img class="image" src="/images/computer_networking/3_3_applications_and_protocols.png" alt="Popular Internet applications and their underlying transport protocols" width="40%"/></li>
                                                </p>
                                                <ul>
                                                        <li>3.3.1 — UDP Segment Structure</li>
                                                        <ul>
                                                                <li><li><img class="image" src="/images/computer_networking/3_3_udp_segment_structure.png" alt="UDP segment structure" width="40%"/></li>
                                                        </ul>
                                                        <li>3.3.2 — UDP Checksum</li>
                                                        <ul>
                                                            <li>1s complement of the sum of all the 16-bit words in the segment</li>
                                                            <li>Example of system design's end-end principle</li>
                                                        </ul>
                                                </ul>
                                                    <h4 id="3.4-principles-of-reliable-data-transfer">3.4 — Principles of Reliable Data Transfer</h4>
                                                <ul>
                                                        <li>3.4.1 Building a Reliable Data Transfer Protocol</li>
                                                        <ul>
                                                            <li>Use finite-state machine (FSM) definitions for the sender and receiver</li>
                                                                <li>rdt1.0 — a protocol for a completely reliable channel</li>
                                                                <ul>
                                                                    <li>Sending side waits for procedure call from upper-layer protocol and sends packet</li>
                                                                    <li>Receiving side waits for procedure call from lower-layer protocol and extracts packet </li>
                                                                </ul>
                                                                <li>rdt2.0 — reliable data transfer over a channel with bit errors</li>
                                                                <ul>
                                                                    <li>Need a form of error detection, attach checksum field to all packets</li>
                                                                        <li>Need receiver feedback</li>
                                                                        <ul>
                                                                            <li>Positive acknowledgements (ACK) and negative acknowledgements (NAK)</li>
                                                                            <li>NAKs trigger retransmission of packets</li>
                                                                            <li>Automatic Repeat reQuest (ARQ) protocols: reliable data transfer protocols based on retransmissions</li>
                                                                        </ul>
                                                                    <li>Stop-and-wait protocols: sender does not send a new piece of data until it is sure that the receiver has correctly received the current packet (via an ACK)</li>
                                                                </ul>
                                                                <li>rdt2.1 — accounting for potentially corrupted receiver feedback</li>
                                                                <ul>
                                                                    <li>Add sequence numbers to packets. That way if the receiver sent an ACK which became corrupted into a NAK, causing the sender to retransmit the packet the receiver already received, the receiver would be able to know that the new packet is a duplicate packet</li>
                                                                </ul>
                                                                <li>rdt2.2 — equivalent to rdt2.1, but is NAK free</li>
                                                                <ul>
                                                                    <li>Instead of sending a NAK when receiving a corrupted packet, send an ACK + sequence number for the last correctly received packet</li>
                                                                </ul>
                                                                <li>rdt3.0 — reliable data transfer over a lossy channel with bit errors</li>
                                                                <ul>
                                                                    <li>Implement a countdown timer that can interrupt the sender after a given amount of time, which prompts retransmission of the corresponding packet</li>
                                                                    <li>rdt3.0 is sometimes known as the alternating-bit protocol, since sequence numbers alternate between 0 and 1</li>
                                                                </ul>
                                                        </ul>
                                                        <li>3.4.2 Pipelined Reliable Data Transfer Protocols</li>
                                                        <ul>
                                                            <li>Stop-and-wait protocols have very low link utilization</li>
                                                                <li><li><img class="image" src="/images/computer_networking/3_4_stop_and_wait_protocols.png" alt="A pipelined protocol in operation" width="40%"/></li>
                                                                <li>To accommodate pipelining</li>
                                                                <ul>
                                                                    <li>Range of sequence numbers must be increased</li>
                                                                    <li>Sender and receiver sides of the protocols may have to buffer more than one packet</li>
                                                                </ul>
                                                            <li>Two approaches: Go-Back-N (GBN) and selective repeat (SR) protocols</li>
                                                        </ul>
                                                        <li>3.4.3 Go-Back-N</li>
                                                        <li><img class="image" src="/images/computer_networking/3_4_go_back_n.png" alt="Sender's view of sequence numbers in Go-Back-N" width="40%"/></li>
                                                        <ul>
                                                            <li>Sender transmits multiple packets</li>
                                                                <li>Can have no more than \(N\) unacknowledged packets in the pipeline</li>
                                                                <ul>
                                                                    <li>Must track this number, and decline the procedure call to send if there are already \(N\) unacknowledged packets in the pipeline</li>
                                                                    <li>Limit creates flow control</li>
                                                                </ul>
                                                            <li>Sliding-window protocol: window slides over once base packet is ACKed</li>
                                                            <li>Receiver feedback is a cumulative acknowledgement, indicating that all packets within a sequence number up to and including \(n\) have been correctly received</li>
                                                                <li>Sender starts timers for each transmitted packet. If any of them timeout, the sender retransmits all previously sent, unacknowledged packets (usually equal to window size \(N,\) hence the name Go-Back-N)</li>
                                                                <ul>
                                                                    <li>Due to this retransmission of everything, the receiver discards out-of-order packets — no buffering is done</li>
                                                                    <li>Bad when window-size and bandwidth-delay product are both large, as many packets can be unnecessarily retransmitted</li>
                                                                </ul>
                                                        </ul>
                                                        <li>3.4.4 Selective Repeat</li>
                                                        <li><img class="image" src="/images/computer_networking/3_4_selective_repeat.png" alt="Selective-repeat(SR) sender and receiver views of sequence-number space" width="40%"/></li>
                                                        <ul>
                                                                <li>Same as GBN, except</li>
                                                                <ul>
                                                                    <li>Individually acknowledge correctly received packets</li>
                                                                    <li>Receiver buffers out-of-order packets</li>
                                                                        <li>Potential for receiver to send ACKs for packets with a sequence number below that of rcv_base (if previously transmitted ACK is lost)</li>
                                                                        <ul>
                                                                            <li>Thus, window size must be at most half of the size of the sequence number space</li>
                                                                        </ul>
                                                                </ul>
                                                        </ul>
                                                        <li>Note: have assumed in order delivery</li>
                                                        <ul>
                                                            <li>If not, channel can be thought of as buffering packets and spontaneously emitting these packets at any point in the future</li>
                                                            <li>Due to reusing of sequence numbers, care must be taken to guard against duplicate sequence number, yet distinct packets</li>
                                                            <li>In reality, assume that packets cannot "live" in the network for longer than some amount of time (3 minutes assumed in TCP extensions for high-speed networks)</li>
                                                        </ul>
                                                </ul>
                                                    <h4 id="3.5-connection-oriented-transport-tcp">3.5 — Connection-Oriented Transport: TCP</h4>
                                                <ul>
                                                        <li>3.5.1 The TCP Connection</li>
                                                        <ul>
                                                            <li>Logical connection, with common state residing only in the TCP processes in the two communicating end systems</li>
                                                            <li>Full-duplex service</li>
                                                            <li>Point-to-point — between a single sender and a single receiver</li>
                                                            <li><img class="image" src="/images/computer_networking/3_5_tcp.png" alt="TCP send and receive buffers" width="40%"/></li>
                                                            <li>Application data passed into TCP send buffer</li>
                                                            <li>TCP intermittently passes chunks of data to the network layer</li>
                                                                <li>Maximum segment size (\(MSS\)): maximum amount of data that can be grabbed from the TCP send buffer and placed in a segment (accounting for TCP/IP header length, typically 40 bytes)</li>
                                                                <ul>
                                                                    <li>Determined by largest link-layer frame that can be sent by the local sending host (maximum transmission unit (\(MTU\)), usually 1500 bytes)</li>
                                                                    <li>Thus typical values are \(MTU = 1500\) bytes, \(MSS = 1460\) bytes</li>
                                                                </ul>
                                                        </ul>
                                                        <li>3.5.2 TCP Segment Structure</li>
                                                        <li><img class="image" src="/images/computer_networking/3_5_tcp_segment_structure.png" alt="TCP segment structure" width="40%"/></li>
                                                        <ul>
                                                                <li>Flags</li>
                                                                <ul>
                                                                        <li>CWR and ECE</li>
                                                                        <ul>
                                                                            <li>Used for explicit congestion notification</li>
                                                                        </ul>
                                                                        <li>URG</li>
                                                                        <ul>
                                                                            <li>Indicates whether data in the segment that the sending-side upper-layer entity has been marked as "urgent" (whose location is pointed to by the urgent data pointer, rare usage in practice)</li>
                                                                        </ul>
                                                                        <li>ACK</li>
                                                                        <ul>
                                                                            <li>Indicates whether the value in the acknowledgment number field is valid or not</li>
                                                                        </ul>
                                                                        <li>PSH</li>
                                                                        <ul>
                                                                            <li>Indicates whether the receiver should pass data to the upper layer protocol process immediately (rare usage in practice)</li>
                                                                        </ul>
                                                                        <li>RST, SYN, FIN</li>
                                                                        <ul>
                                                                            <li>Used for connection setup and teardown</li>
                                                                        </ul>
                                                                </ul>
                                                                <li>Sequence number: byte-stream number of the first byte in the segment</li>
                                                                <ul>
                                                                    <li>Randomly chose initial sequence number, minimize the possibility that a segment still present in the network from an earlier, already-terminated connection between the same two hosts using the same port numbers is mistaken for a valid segment</li>
                                                                </ul>
                                                                <li>Acknowledgment number: next byte that the sending host expects from the receiving host (cumulative acknowledgments)</li>
                                                                <ul>
                                                                    <li>TCP RFC does not impose rules on buffering out-of-order bytes, but in practice this is often done to increase the efficiency of network bandwidth</li>
                                                                    <li>Piggybacking: TCP segment with ACK and data</li>
                                                                </ul>
                                                        </ul>
                                                        <li>3.5.3 Round-Trip Time Estimation and Timeout</li>
                                                        <ul>
                                                            <li>Want timeout to be greater than RTT to avoid unnecessary retransmissions, but not so much larger that link utilization is low</li>
                                                                <li>\(SampleRTT\): amount of time between when a segment is sent (passed to IP process) and received</li>
                                                                <ul>
                                                                    <li>Most TCP implementations only take one \(SampleRTT\) measurement (track \(SampleRTT\) for a single transmitted but currently unacknowledged segment) at a time (roughly once per RTT)</li>
                                                                    <li>Never tracked for retransmitted packets</li>
                                                                    <li>Fluctuates from segment to segment due to congestion in routers and varying load on the end systems</li>
                                                                </ul>
                                                                <li>\(EstimatedRTT = (1 - a) 	imes EstimatedRTT + a 	imes SampleRTT\)</li>
                                                                <ul>
                                                                    <li>\(a\) is recommended to be 0.125</li>
                                                                    <li>Exponentially weighted moving average (EWMA)</li>
                                                                </ul>
                                                                <li>\(DevRTT = (1 - b) 	imes DevRTT + b 	imes \lvert SampleRTT - EstimatedRTT</li>
        vert \)
                                                                <ul>
                                                                    <li>\(b\) is recommended to be 0.25</li>
                                                                    <li>Also EWMA</li>
                                                                </ul>
                                                            <li>Finally, \(TimeoutInterval: EstimatedRTT + 4 	imes DevRTT \)</li>
                                                        </ul>
                                                        <li>3.5.4 Reliable Data Transfer</li>
                                                        <ul>
                                                            <li>TCP ensures that the byte stream that a process reads out of its TCP receive buffer is exactly the same byte stream as that sent by the end system on the other side of the connection</li>
                                                                <li>Specific TCP details and mechanisms</li>
                                                                <ul>
                                                                    <li>SendBase variable in TCP sender: sequence number of the oldest unacknowledged byte</li>
                                                                        <li>Doubling the timeout interval for a segment after a timeout</li>
                                                                        <ul>
                                                                            <li>Provides a limited form of congestion control</li>
                                                                        </ul>
                                                                        <li>Some versions of TCP have an implicit NAK mechanism — TCP fast retransmit</li>
                                                                        <ul>
                                                                            <li>Three duplicate ACKs for a given segment serve as an implicit NAK for the following segment, triggering retransmission before timeout</li>
                                                                        </ul>
                                                                    <li>Delayed ACK: when in-order segment arrives with expected sequence number, wait up to 500 msec for the arrival of another in-order segment. If next in-order segment does not arrive in this interval, send an ACK</li>
                                                                </ul>
                                                        </ul>
                                                        <li>3.5.5 Flow Control</li>
                                                        <li><img class="image" src="/images/computer_networking/3_5_flow_control.png" alt="The receive window (rwnd) and the receive buffer (RcvBuffer)" width="40%"/></li>
                                                        <ul>
                                                            <li>Eliminate possibility of sender overflowing the receiver's buffer</li>
                                                                <li>Receiver maintains</li>
                                                                <ul>
                                                                        <li>\(LastByteRcvd - LastByteRead \leq RcvBuffer\)</li>
                                                                        <ul>
                                                                            <li>Since overflowing buffers is not permitted</li>
                                                                        </ul>
                                                                    <li>Receive window \(rwnd = RcvBuffer - (LastByteRcvd - LastByteRead)\)</li>
                                                                </ul>
                                                                <li>Sender maintains</li>
                                                                <ul>
                                                                    <li>\(rwnd\) from receiver: how much free buffer space was recently available at the receiver</li>
                                                                    <li>\(LastByteSent - LastByteAcked \leq rwnd\)</li>
                                                                </ul>
                                                                <li>Problem: \(rwnd = 0\) being advertised, and sender currently has nothing to send</li>
                                                                <ul>
                                                                    <li>Sender will never be told that \(rwnd\) has increased (after application reads from full TCP receive buffer) since this happens only if the receiver needs to send data, or has an acknowledgment to send</li>
                                                                    <li>Solution: sender can send segments with one data byte when \(rwnd = 0\)</li>
                                                                </ul>
                                                        </ul>
                                                    <li>Note: UDP does not provide flow control, hence segment loss can occur at the receiver due to buffer overflow</li>
                                                        <li>3.5.6 TCP Connection Management</li>
                                                        <ul>
                                                                <li>Connection establishment (three way handshake)</li>
                                                                <ul>
                                                                        <li>Client-side sends TCP segment (SYN) with</li>
                                                                        <ul>
                                                                            <li>SYN bit set to 1</li>
                                                                            <li>Randomly chosen initial sequence number</li>
                                                                        </ul>
                                                                        <li>Server-side receives TCP segment and</li>
                                                                        <ul>
                                                                            <li>Allocates TCP buffers and variables to the connection</li>
                                                                                <li>Sends TCP segment (SYNACK) with</li>
                                                                                <ul>
                                                                                    <li>SYN bit set to 1</li>
                                                                                    <li>Acknowledgement field set to received sequence number + 1</li>
                                                                                    <li>Randomly chosen initial sequence number</li>
                                                                                </ul>
                                                                        </ul>
                                                                        <li>Client-side receives TCP segment and</li>
                                                                        <ul>
                                                                            <li>Allocates TCP buffers and variables to the connection</li>
                                                                                <li>Sends TCP segment (ACK) with</li>
                                                                                <ul>
                                                                                    <li>SYN bit set to 0</li>
                                                                                    <li>Acknowledgment field set to received sequence number + 1</li>
                                                                                    <li>Potential first payload of data</li>
                                                                                </ul>
                                                                        </ul>
                                                                </ul>
                                                                <li>Connection closing</li>
                                                                <li><img class="image" src="/images/computer_networking/3_5_connection_closing.png" alt="Connection closing" width="40%"/></li>
                                                                <ul>
                                                                    <li>Close means resources (buffers and variables) are deallocated</li>
                                                                    <li>FIN is a TCP segment with FIN bit set to 1</li>
                                                                    <li>Timed wait is usually either 30 seconds, 1 minute or 2 minutes</li>
                                                                    <li>Afterwards, the connection formally closes and all resources (including port numbers) are released</li>
                                                                </ul>
                                                                <li>SYN flood attack</li>
                                                                <ul>
                                                                    <li>DoS</li>
                                                                    <li>Send large number of TCP SYN segments, without completing the third handshake step, exhausting the server's connection resources</li>
                                                                        <li>Defend with SYN cookies</li>
                                                                        <ul>
                                                                            <li>In response to TCP SYN, server does not create a half-open TCP connection</li>
                                                                            <li>Instead, creates an initial TCP sequence number that is a hash function of source and destination IP, port, and a secret number, and responds with SYNACK segment to the sender of the TCP SYN message</li>
                                                                                <li>A legitimate client responds with an ACK segment, whose acknowledgment field = output of hash function + 1</li>
                                                                                <ul>
                                                                                    <li>Server verifies this value using the fields present in the ACK segment, and the secret number stored in memory. If valid, resources are allocated and a fully open connection is created</li>
                                                                                </ul>
                                                                            <li>Otherwise, no harm is done to the server</li>
                                                                        </ul>
                                                                </ul>
                                                                <li>nmap</li>
                                                                <ul>
                                                                        <li>Send TCP SYN segment, and either receive</li>
                                                                        <ul>
                                                                                <li>TCP SYNACK segment</li>
                                                                                <ul>
                                                                                    <li>Application running TCP on corresponding port, nmap returns "open"</li>
                                                                                </ul>
                                                                                <li>TCP RST segment</li>
                                                                                <ul>
                                                                                    <li>SYN reached target host, but the host is not running an application with TCP on corresponding port</li>
                                                                                    <li>Not blocked by firewall</li>
                                                                                </ul>
                                                                                <li>Nothing</li>
                                                                                <ul>
                                                                                    <li>Likely blocked by firewall</li>
                                                                                </ul>
                                                                        </ul>
                                                                </ul>
                                                        </ul>
                                                </ul>
                                                    <h4 id="3.6-principles-of-congestion-control">3.6 — Principles of Congestion Control</h4>
                                                <ul>
                                                        <li>3.6.1 The Causes and the Costs of Congestion</li>
                                                        <ul>
                                                            <li>Offered load: sending + retransmission rate of a host onto a link</li>
                                                            <li>Retransmissions, especially unnecessary retransmissions (for example due to a premature timeout) cause link utilization to plummet</li>
                                                            <li>If a packet is dropped along a multihop path, the transmission capacity that was used at each of the upstream links to forward that packet to the point at which it is dropped ends up having been wasted</li>
                                                        </ul>
                                                        <li>3.6.2 Approaches to Congestion Control</li>
                                                        <li><img class="image" src="/images/computer_networking/3_6_congestion_control_approaches.png" alt="Two feedback pathways for network-indicated congestion information" width="40%"/></li>
                                                        <ul>
                                                                <li>End-to-end congestion control</li>
                                                                <ul>
                                                                    <li>Network congestion must be inferred by the end systems based only on observed network behavior (packet loss and delay)</li>
                                                                </ul>
                                                                <li>Network-assisted congestion control</li>
                                                                <ul>
                                                                    <li>Routers provide explicit feedback to the sender and/or receiver regarding the congestion state of the network, typically using a choke packet</li>
                                                                </ul>
                                                        </ul>
                                                </ul>
                                                    <h4 id="3.7-tcp-congestion-control">3.7 — TCP Congestion Control</h4>
                                                <ul>
                                                    <li>End-to-end congestion control, since the IP provides no explicit feedback to the end systems regarding network congestion</li>
                                                        <li>TCP congestion-control mechanism operating at the sender tracks the variable congestion window (cwnd)</li>
                                                        <ul>
                                                                <li>\(LastByteSent - LastByteAcked \leq min(cwnd, rwnd)\)</li>
                                                                <ul>
                                                                    <li>\(min\)(congestion control limit, flow control limit)</li>
                                                                </ul>
                                                            <li>Bandwidth probing: uses ACKs to increase congestion window</li>
                                                            <li>Uses timeouts or three duplicate ACKs to decrease congestion window</li>
                                                            <li>Too small of a value and link utilization is unnecessarily low</li>
                                                            <li>Too high of a value potentially creates lots of congestion, also lowering link utilization (and wasting transmission capacity up to that point)</li>
                                                        </ul>
                                                        <li>Slow start</li>
                                                        <p>
                                                        <li><img class="image" src="/images/computer_networking/3_7_slow_start.png" alt="TCP slow start" width="40%"/></li>
                                                        </p>
                                                        <ul>
                                                            <li>When a TCP connection begins, the value of \(cwnd\) is typically \(1\;MSS\)</li>
                                                            <li>\(cwnd\) increases by \(1\;MSS\) every time a transmitted segment is first acknowledged</li>
                                                                <li>If there is a loss event</li>
                                                                <ul>
                                                                    <li>Slow start threshold (\(ssthresh\)) \(= \dfrac{cwnd}{2}\)</li>
                                                                    <li>\(cwnd\) is reset to \(1\;MSS\)</li>
                                                                    <li>Slow start is re-entered, until \(cwnd = ssthresh\), in which case congestion avoidance mode is entered</li>
                                                                </ul>
                                                        </ul>
                                                        <li>Congestion avoidance</li>
                                                        <ul>
                                                            <li>Increase \(cwnd\) by \(1\;MSS\) every RTT</li>
                                                                <li>If there is a timeout</li>
                                                                <ul>
                                                                    <li>Same as loss in slow start mode</li>
                                                                </ul>
                                                                <li>If triple duplicate ACKs are received</li>
                                                                <ul>
                                                                    <li>\(ssthresh = \dfrac{cwnd}{2}\)</li>
                                                                    <li>\(cwnd = \dfrac{cwnd}{2} + 3\;MSS\)</li>
                                                                    <li>Fast recovery mode can be entered</li>
                                                                </ul>
                                                        </ul>
                                                    <li>TCP Tahoe only uses slow start and congestion avoidance modes</li>
                                                        <li>Fast recovery</li>
                                                        <ul>
                                                            <li>Recommended but not required</li>
                                                            <li>\(cwnd\) increases by \(1\;MSS\) for every duplicate ACK received for the missing segment that caused the entry of fast recovery mode</li>
                                                            <li>When the ACK for the missing segment is received, congestion avoidance mode is entered after setting \(cwnd = ssthresh\)</li>
                                                                <li>If there is a timeout</li>
                                                                <ul>
                                                                    <li>Same as loss in slow start mode</li>
                                                                </ul>
                                                            <li>Implemented by TCP Reno</li>
                                                        </ul>
                                                        <li><li><img class="image" src="/images/computer_networking/3_7_tcp_reno.png" alt="Evolution of TCP's congestion window (Tahoe and Reno)" width="40%"/></li>
                                                        <ul>
                                                            <li>TCP Tahoe and Reno behave the same until triple duplicate ACK at transmission round 8</li>
                                                            <li>Loss at \(cwnd = 12\), so \(ssthresh = 6\)</li>
                                                            <li>TCP Reno sets \(cwnd = \dfrac{cwnd}{2} + 3 (= 9\;MSS)\) and enters fast recovery mode</li>
                                                            <li>TCP Tahoe sets \(cwnd = 1\;MSS\) and enters slow start mode</li>
                                                        </ul>
                                                        <li>TCP splitting</li>
                                                        <ul>
                                                            <li>Desirable for cloud services to provide a high-level of responsiveness</li>
                                                            <li>If end system is far from a data center, RTT will be large, potentially leading to poor response time performance due to TCP slow start</li>
                                                            <li>Solution: clients establish TCP connection to nearby front-end server. Front-end server maintains a persistent TCP connection to the data center with a large TCP congestion window</li>
                                                        </ul>
                                                        <li>TCP's congestion control is often referred to as an additive-increase, multiplicative-decrease (AIMD) form of congestion control</li>
                                                        <li><img class="image" src="/images/computer_networking/3_7_additive_increase_multiplicative_decrease.png" alt="Additive-increase, multiplicative-decrease congestion control" width="40%"/></li>
                                                        <ul>
                                                            <li>Ignore slow start</li>
                                                            <li>Assume loss is indicated by duplicate ACKs rather than timeouts</li>
                                                            <li>Assume fast recovery mode is entered</li>
                                                            <li>"Saw tooth" behavior</li>
                                                        </ul>
                                                        <li>TCP Vegas</li>
                                                        <ul>
                                                            <li>Tries to detect congestion in the routers between source and destination before packet loss occurs by observing RTT</li>
                                                            <li>If congestion is detected, lower the rate of transmission linearly</li>
                                                        </ul>
                                                        <li>TCP's congestion control causes it to use high speed links inefficiently</li>
                                                        <ul>
                                                            <li>Only takes one loss event for rate of transmission to completely reset</li>
                                                            <li>Researchers are investigating new versions of TCP for high-speed environments</li>
                                                        </ul>
                                                        <li>3.7.1 Fairness</li>
                                                        <ul>
                                                            <li>Link capacity split equally among end systems connected to link</li>
                                                                <li>TCP connection 1 and 2 sharing a link of transmission rate \(R\)</li>
                                                                <li><img class="image" src="/images/computer_networking/3_7_tcp_throughput_adjusting.png" alt="Throughput realized by TCP connections 1 and 2" width="40%"/></li>
                                                                <ul>
                                                                        <li>Start at point A</li>
                                                                        <ul>
                                                                            <li>Total throughput into link \(&lt; R\), so no loss</li>
                                                                        </ul>
                                                                        <li>Moves to point B</li>
                                                                        <ul>
                                                                            <li>Total throughput into link \(> R\), so loss</li>
                                                                            <li>Both connections set \(cwnd = \dfrac{cwnd}{2}\)</li>
                                                                        </ul>
                                                                        <li>Moves to point C</li>
                                                                        <ul>
                                                                                <li>Connection 1, whose \(cwnd\) was greater than that of connection 2, experiences a greater reduction than connection 2</li>
                                                                                <ul>
                                                                                    <li>Closer to equal bandwidth sharing</li>
                                                                                </ul>
                                                                        </ul>
                                                                        <li>Converges to fairness</li>
                                                                        <ul>
                                                                                <li>Though in reality, RTT varies</li>
                                                                                <ul>
                                                                                    <li>Hosts with lower RTT are able to grab the available bandwidth (increase their \(cwnd\)) at the link more quickly as it becomes free</li>
                                                                                </ul>
                                                                        </ul>
                                                                </ul>
                                                            <li>TCP's congestion control mechanism incentivizes high bandwidth applications to run over UDP</li>
                                                            <li>Can use multiple TCP connections in parallel to grab more bandwidth</li>
                                                        </ul>
                                                        <li>3.7.2 Explicit Congestion Notification (ECN): Network-assisted Congestion Control</li>
                                                        <li><img class="image" src="/images/computer_networking/3_7_ecn.png" alt="Explicit Congestion Notification: network-assisted congestion control" width="40%"/></li>
                                                        <ul>
                                                            <li>ECN Echo bit = 1 should cause TCP sender to half cwnd</li>
                                                        </ul>
                                                </ul>
                                                    <h3 id="9-multimedia-networking">Chapter 9 — Multimedia Networking</h3>
                                                <p>
                                                    <h4 id="9.1-multimedia-networking-applications">9.1 — Multimedia Networking Applications</h4>
                                                <ul>
                                                        <li>9.1.1 Properties of Video</li>
                                                        <ul>
                                                            <li>High bit rate (100 kbps to 3 Mbps)</li>
                                                                <li>Compressible</li>
                                                                <ul>
                                                                    <li>Can produce multiple versions of the same video for flexibility</li>
                                                                </ul>
                                                                <li>Redundancy</li>
                                                                <ul>
                                                                    <li>Spatial</li>
                                                                    <li>Temporal</li>
                                                                </ul>
                                                        </ul>
                                                        <li>9.1.2 Properties of Audio</li>
                                                        <ul>
                                                                <li>Analogue to digital</li>
                                                                <ul>
                                                                    <li>Pulse Code Modulation</li>
                                                                        <li>Compressible</li>
                                                                        <ul>
                                                                            <li>MPEG 1 layer 3 (MP3)</li>
                                                                            <li>Advanced Audio Coding (AAC)</li>
                                                                        </ul>
                                                                </ul>
                                                        </ul>
                                                        <li>9.1.3 Types of Multimedia Network Applications</li>
                                                        <ul>
                                                                <li>Streaming stored audio/video</li>
                                                                <ul>
                                                                    <li>Streaming: begin media playout after receiving only some of media</li>
                                                                    <li>Interactive</li>
                                                                    <li>Continuous playout</li>
                                                                        <li>Video</li>
                                                                        <ul>
                                                                            <li>Average throughput is the most important performance measure</li>
                                                                            <li>Streamed from CDN or P2P applications</li>
                                                                        </ul>
                                                                </ul>
                                                                <li>Conversational voice/video-over-IP</li>
                                                                <ul>
                                                                    <li>Voice-over-IP (internet telephony, VoIP)</li>
                                                                    <li>Delay-sensitive</li>
                                                                    <li>Loss-tolerant</li>
                                                                </ul>
                                                                <li>Streaming live audio/video</li>
                                                                <ul>
                                                                    <li>Typically via CDNs</li>
                                                                </ul>
                                                        </ul>
                                                </ul>
                                                    <h4 id="9.2-streaming-stored-video">9.2 — Streaming Stored Video</h4>
                                                <ul>
                                                        <li>Extensive client-side application buffering for smooth playback</li>
                                                        <li><img class="image" src="/images/computer_networking/9_2_client_delay_and_video_streaming.png" alt="Client playout delay in video streaming" width="40%"/></li>
                                                        <ul>
                                                            <li>Absorb variations in server-to-client delay and server-to-client bandwidth</li>
                                                        </ul>
                                                        <li>UDP streaming</li>
                                                        <ul>
                                                            <li>Server transmits video at a rate that matches the client's video consumption</li>
                                                            <li>Typically consists of a small client-side buffer (holds less than a second of video)</li>
                                                            <li>Typically uses the upper-level Real-Time Transport Protocol (RTP)</li>
                                                            <li>Client and server also maintain a separate control connection where the client communicates changes in session state (pause, resume, reposition)</li>
                                                                <li>Disadvantages</li>
                                                                <ul>
                                                                    <li>Often fails to provide continuous playout due to fluctuations in bandwidth between server and client</li>
                                                                    <li>Requires a media control server, such as a Real-Time Streaming Protocol (RTSP) server to process client-to-server interactivity requests and to track client state for each ongoing client session</li>
                                                                        <li>Many firewalls block UDP traffic</li>
                                                                        <ul>
                                                                            <li>Consequently, rarely used</li>
                                                                        </ul>
                                                                </ul>
                                                        </ul>
                                                        <li>HTTP streaming</li>
                                                        <li><img class="image" src="/images/computer_networking/9_2_http_streaming.png" alt="Streaming stored video over HTTP/TCP" width="40%"/></li>
                                                        <ul>
                                                            <li>Server stores video as an ordinary file, addressed by a URL</li>
                                                            <li>Client uses HTTP GET requests over TCP for that URL</li>
                                                            <li>Server sends video as quickly as TCP allows with flow and congestion control</li>
                                                            <li>Client application begins playback once enough bytes are present in the client application buffer (decompresses and displays frames)</li>
                                                                <li>Disadvantages</li>
                                                                <ul>
                                                                    <li>Transmission rate often exhibits "saw-tooth" shape as a result of TCP congestion control</li>
                                                                        <li>Potential significant delay as a result of TCP's retransmission mechanism</li>
                                                                        <ul>
                                                                            <li>Fixable with client buffering and prefetching, so typically used today (YouTube, Netflix)</li>
                                                                        </ul>
                                                                </ul>
                                                                <li>Prefetching video</li>
                                                                <ul>
                                                                    <li>Stored in client application buffer</li>
                                                                        <li>"Back pressure" from full TCP buffers will force the server to reduce its transmission rate</li>
                                                                        <ul>
                                                                            <li>A full client application buffer indirectly imposes a limit on the rate that video can be sent from server to client</li>
                                                                        </ul>
                                                                </ul>
                                                                <li>Early termination and repositioning the video</li>
                                                                <ul>
                                                                    <li>Client application uses the HTTP byte-range header in the HTTP GET request message to specify the desired frames</li>
                                                                        <li>Early termination and repositioning the video waste bandwidth and server resources</li>
                                                                        <ul>
                                                                            <li>Smaller client application buffers reduce waste</li>
                                                                        </ul>
                                                                </ul>
                                                        </ul>
                                                        <li>Adaptive HTTP streaming (Dynamic Adaptive Streaming over HTTP, DASH)</li>
                                                        <ul>
                                                            <li>See 2.6.2</li>
                                                        </ul>
                                                </ul>
                                                    <h4 id="9.3-voice-over-ip-internet-telephony-voip">9.3 — Voice-over-IP (internet telephony, VoIP)</h4>
                                                <ul>
                                                        <li>9.3.1 Limitations of the Best-Effort IP Service</li>
                                                        <ul>
                                                                <li>Receiver must take care in determining</li>
                                                                <ul>
                                                                    <li>When to play back a chunk</li>
                                                                    <li>What to do with a missing chunk</li>
                                                                </ul>
                                                                <li>Packet loss</li>
                                                                <ul>
                                                                    <li>Buffer overflow in routers along path between sender and receiver</li>
                                                                        <li>Could be eliminated with TCP, but</li>
                                                                        <ul>
                                                                            <li>Retransmission mechanisms are often considered unacceptable for conversational real-time audio applications</li>
                                                                                <li>Loss would result in reduction of the sender's transmission rate, likely to a rate lower than the receiver's drain rate, possibly leading to buffer starvation and severely impact voice intelligibility at the receiver</li>
                                                                                <ul>
                                                                                    <li>Thus, most VoIP applications run over UDP (Skype, unless a user is behind a NAT/firewall which blocks UDP segments)</li>
                                                                                </ul>
                                                                        </ul>
                                                                </ul>
                                                                <li>End-to-end delay</li>
                                                                <ul>
                                                                    <li>Accumulation of transmission, processing, queuing delays in routers; propagation delays in links; and end-system processing delays</li>
                                                                        <li>Perception</li>
                                                                        <ul>
                                                                            <li>&lt; 150 msecs not perceived by a human listener</li>
                                                                            <li>150 to 400 msecs are acceptable but unideal</li>
                                                                            <li>> 400 msecs seriously hinder interactivity</li>
                                                                        </ul>
                                                                </ul>
                                                                <li>Packet jitter</li>
                                                                <ul>
                                                                    <li>Varying queuing delays at routers </li>
                                                                </ul>
                                                        </ul>
                                                        <li>9.3.2 Removing Jitter at the Receiver for Audio</li>
                                                        <ul>
                                                            <li>Prepend each chunk with a timestamp</li>
                                                            <li>Delay playout of chunks at the receiver</li>
                                                                <li>Fixed playout delay</li>
                                                                <li><img class="image" src="/images/computer_networking/9_3_fixed_playout_delay.png" alt="Fixed playout delay" width="40%"/></li>
                                                                <ul>
                                                                    <li>Receiver attempts to play out each chunk exactly \(q\) msecs after the chunk is generated</li>
                                                                </ul>
                                                                <li>Adaptive playout delay</li>
                                                                <ul>
                                                                        <li>Playout time of \(i\)th packet is calculated via estimations of network delay and the variance of the network delay</li>
                                                                        <ul>
                                                                            <li>Exponentially weighted moving averages for both</li>
                                                                        </ul>
                                                                </ul>
                                                        </ul>
                                                        <li>9.3.3 Recovering from Packet Loss</li>
                                                        <ul>
                                                                <li>Loss recovery schemes</li>
                                                                <ul>
                                                                        <li>Forward Error Correction (FEC)</li>
                                                                        <ul>
                                                                            <li>Add redundant information to the original packet stream</li>
                                                                                <li>Send a redundant encoded chunk every \(n\) chunks = XOR of the original \(n\) chunks.</li>
                                                                                <ul>
                                                                                    <li>If any single packet in the \(n+1\) packets is lost, the receiver can recover the packet by XORing all of the other packets</li>
                                                                                    <li>If more than one packet is lost, there is no recovery</li>
                                                                                </ul>
                                                                                <li>Create lower-resolution audio stream, and prepend already sent packets to new packets</li>
                                                                                <li><img class="image" src="/images/computer_networking/9_3_piggybacking.png" alt="Piggybacking lower-quality redundant information" width="40%"/></li>
                                                                        </ul>
                                                                        <li>Interleaving</li>
                                                                        <li><img class="image" src="/images/computer_networking/9_3_interleaving.png" alt="Sending interleaved audio" width="40%"/></li>
                                                                        <li>Error concealment</li>
                                                                        <ul>
                                                                            <li>Produce a replacement for a lost packet that is similar to the original</li>
                                                                            <li>Possible via short-term self-similarity</li>
                                                                            <li>Packet repetition</li>
                                                                            <li>Interpolation</li>
                                                                        </ul>
                                                                </ul>
                                                        </ul>
                                                        <li>9.3.4 Case Study: VoIP with Skype</li>
                                                        <ul>
                                                            <li>Proprietary</li>
                                                            <li>Clients can use many different codecs</li>
                                                            <li>Audio and video packets via UDP (by default, TCP otherwise)</li>
                                                            <li>Control packets via TCP</li>
                                                            <li>FEC for loss recovery</li>
                                                            <li>Adapts streams to current network conditions</li>
                                                            <li>P2P</li>
                                                            <li>Skype super peers relay data between two callers behind UDP-blocking NATs</li>
                                                            <li>For video calls with \(N > 2\) participants, each participant's video stream is routed to a server cluster, which relays to each participant the streams of the \(N - 1\) streams of the \(N - 1\) other participants, avoiding the likely low bandwidth upstream links of each participant</li>
                                                        </ul>
                                                </ul>
                                                    <h4 id="9.4-protocols-for-real-time-conversational-applications">9.4 — Protocols for Real-Time Conversational Applications</h4>
                                                <ul>
                                                        <li>9.4.1 Real-Time Transfer Protocol (RTP)</li>
                                                        <ul>
                                                            <li>Runs on top of UDP</li>
                                                                <li><li><img class="image" src="/images/computer_networking/9_4_rtp.png" alt="RTP header fields" width="40%"/></li>
                                                                <ul>
                                                                    <li>Payload type = audio or video encoding</li>
                                                                    <li>Synchronization source identifier (SSRC) uniquely identifies the source of the RTP stream</li>
                                                                </ul>
                                                            <li>No insurance of timely delivery of data, or other quality-of-service (QoS) guarantees</li>
                                                        </ul>
                                                        <li>9.4.2 Session Initiation Protocol (SIP)</li>
                                                        <li><img class="image" src="/images/computer_networking/9_4_sip_1.png" alt="SIP" width="40%"/></li>
                                                        <li><img class="image" src="/images/computer_networking/9_4_sip_2.png" alt="SIP" width="40%"/></li>
                                                        <ul>
                                                            <li>Establishes calls</li>
                                                                <li>Can allow the caller to determine the current IP address of the callee</li>
                                                                <li><img class="image" src="/images/computer_networking/9_4_sip_3.png" alt="SIP" width="40%"/></li>
                                                                <ul>
                                                                    <li>1: SIP INVITE message to the umass SIP proxy</li>
                                                                    <li>2: SIP proxy does DNS lookup on the SIP registrar (not shown), and forwards the INVITE message to the SIP registrar</li>
                                                                    <li>3: Redirect response since host is registered with the NYU SIP registrar</li>
                                                                </ul>
                                                            <li>Call management (adding new media streams, changing the encoding of a media stream, inviting new participants to during the call)</li>
                                                            <li>Ends calls</li>
                                                        </ul>
                                                </ul>
                                                    <h4 id="9.5-network-support-for-multimedia">9.5 — Network Support for Multimedia</h4>
                                                <ul>
                                                <li><li><img class="image" src="/images/computer_networking/9_5_network_support_for_media_applications.png" alt="Three network-level approaches to supporting multimedia applications" width="40%"/></li>
                                                <li>9.5.1 Dimensioning Best-Effort Networks</li>
                                                <ul>
                                                    <li>Bandwidth provisioning: how much capacity to provide at network links in a given topology to achieve a given level of performance</li>
                                                    <li>Network dimensioning: how to design a network topology (where to place routers, how to interconnect routers with links, what capacity to assign links) to achieve a given level of end-to-end performance</li>
                                                        <li>Need</li>
                                                        <ul>
                                                            <li>Models of traffic demand between network end points</li>
                                                            <li>Well-defined performance requirements</li>
                                                            <li>Models to predict end-to-end performance for a given workload model, and techniques to find a minimal cost bandwidth allocation that will result in all user requirements being met</li>
                                                        </ul>
                                                        <li>Internet could support multimedia traffic at an appropriate performance level if dimensioned correctly, but does not, primarily due to economic and organizational reasons</li>
                                                        <ul>
                                                            <li>Users may not be willing to pay their ISPs enough for sufficient bandwidth to support multimedia applications over a best-effort Internet</li>
                                                            <li>Different ISPs would have to be willing cooperate to ensure that end-to-end paths are properly dimensioned to support multimedia applications</li>
                                                        </ul>
                                                </ul>
                                                <li>9.5.2 Providing Multiple Classes of Service</li>
                                                <ul>
                                                    <li>Type-of-service (ToS) field in the IPv4 header could be used for packet marking</li>
                                                        <li>Ideally provide traffic isolation among classes, so one class is not adversely affected by another class of traffic that misbehaves</li>
                                                        <ul>
                                                            <li>Traffic policing (drop/delay packets that violate a criteria)</li>
                                                            <li>Link-level packet-scheduling to provide logically distinct links of different capacities within the same physical link</li>
                                                        </ul>
                                                        <li>Desirable to use resources (link bandwidth, buffers) as efficiently as possible</li>
                                                        <ul>
                                                            <li>Better than logically distinct solution since this can waste resources</li>
                                                        </ul>
                                                        <li>Criteria for policing</li>
                                                        <ul>
                                                            <li>Long-term average rate (6000 packets/minute)</li>
                                                            <li>Peak rate (1500 packets/second)</li>
                                                            <li>Burst size (750 packets/instant)</li>
                                                        </ul>
                                                        <li>Leaky buckets</li>
                                                        <li><img class="image" src="/images/computer_networking/9_5_leaky_buckets.png" alt="The leaky bucket policer" width="40%"/></li>
                                                        <ul>
                                                            <li>Packets can only be sent if a token can be removed from the bucket</li>
                                                            <li>Burst rate \(b\)</li>
                                                            <li>Maximum long term average of \(rt + b\), for any length of time \(t\)</li>
                                                                <li>Can use two leaky buckets in series to police a flow's peak rate</li>
                                                                <ul>
                                                                    <li>First: flow limited by link (limited to \(r_1 t + b_1\))</li>
                                                                    <li>Second: limits flow after initial limit, limiting peak rate (if \(r_2 &lt; r_1\), peak = \(r_2(r_1 t + b_1) + b_2)\)</li>
                                                                </ul>
                                                        </ul>
                                                        <li>Leaky bucket + Weighted Fair Queuing = Provable Maximum Delay in Queue</li>
                                                        <li><img class="image" src="/images/computer_networking/9_5_multiplexed_leaky_buckets.png" alt="n multiplexed leaky bucket flows with WFQ scheduling" width="40%"/></li>
                                                        <ul>
                                                                <li>\(d_{max} = \dfrac{b_1 R w_1}{\sum{w_j}}\) for delay of class 1</li>
                                                                <ul>
                                                                    <li>\(R\) is the transmission rate of the link</li>
                                                                    <li>If there are \(b_1\) packets in the queue and each packet is removed at a rate of at least \(\dfrac{R w_1}{\sum{w_j}}\), the last packet cannot be removed later than \(\dfrac{b_1 R w_1}{\sum{w_j}}\)</li>
                                                                </ul>
                                                        </ul>
                                                </ul>
                                                <li>9.5.3 Diffserv</li>
                                                <ul>
                                                    <li>Differentiated service for different classes of traffic</li>
                                                    <li>Network edge router functions: packet classification and traffic conditioning</li>
                                                        <li>Network core router function: forwarding</li>
                                                        <ul>
                                                            <li>Each packet is forwarded onto its next hops according to per-hop behavior (PHB) associated with the packet's class</li>
                                                        </ul>
                                                    <li>Very scalable, no need to maintain connection-specific information</li>
                                                    <li>End users may have to agree to limit its packet-sending rate to conform to a declared traffic profile</li>
                                                    <li>Metering functions compare incoming packet flow with the negotiated traffic profile, determine whether a packet is behaving as expected, and act accordingly (forward if behaving, delay/drop if not)</li>
                                                    <li>Expedited forwarding PHB specifies that the departure rate of a class of traffic must equal or exceed a configured rate</li>
                                                    <li>Assured forwarding PHB divides traffic into four classes, where each class is guaranteed with some minimum amount of bandwidth and buffering</li>
                                                </ul>
                                                <li>9.5.4 Per-Connection Quality-of-Service (QoS) Guarantees: Resource Reservation and Call Admission</li>
                                                <ul>
                                                <li>For a network to make guarantees, it must integrate call admission</li>
                                                </ul>
                                            <li>A flow must declare its QoS requirement, and have the network either accept the flow (at the required QoS) or block the flow</li>
                                                <li>This requires the reservation of sufficient resources at each and every network router on its source-to-destination path (call setup)</li>
                                                <li><img class="image" src="/images/computer_networking/9_5_call_setup.png" alt="The call setup process" width="40%"/></li>
                                            </ul>

									<hr class="major" />
									<h2 id="sources">Sources</h2>
										<p><strong>Main image</strong>: By <a href="https://unsplash.com/@"></a>, hosted by <a href="https://unsplash.com/photos/">Unsplash</a>, <a href="https://unsplash.com/license">license</a></p>
								</section>

						</div>
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">
							<div data-include="/components/sidebar"></div>
						</div>
					</div>

			</div>

		<!-- Scripts -->
			<script src="/assets/js/jquery.min.js"></script>
			<script src="/assets/js/browser.min.js"></script>
			<script src="/assets/js/breakpoints.min.js"></script>
			<script src="/assets/js/util.js"></script>
			<script src="/assets/js/main.js"></script>
			<script id="MathJax-script" async="false" src="/assets/mathjax/tex-chtml.js"></script>
			<script>
			$(function () {  /* include other HTML files */
				var includes = $('[data-include]')
				$.each(includes, function () {
					var file = $(this).data('include') + '.html'
					$(this).load(file)
				})
			})
			</script>

	</body>
</html>